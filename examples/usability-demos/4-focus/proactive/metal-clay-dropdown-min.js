(function(){this.metal=this.metal||{},this.metalNamed=this.metalNamed||{};var babelHelpers={};babelHelpers["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},babelHelpers.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),babelHelpers.defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},babelHelpers.get=function e(t,n,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,o)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(o)},babelHelpers.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},babelHelpers.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},babelHelpers.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},function(){function e(){throw Error("Unimplemented abstract method")}function t(){N=void 0}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N=e}function o(){return void 0===N&&"undefined"!=typeof window&&window.__METAL_COMPATIBILITY__&&n(window.__METAL_COMPATIBILITY__),N}function r(e,t){return e||t}function i(e){if(!e.name){var t=e.toString();e.name=t.substring(9,t.indexOf("("))}return e.name}function a(e,t,n){var o=t+"_MERGED";if(!e.hasOwnProperty(o)){var i=e.hasOwnProperty(t)?e[t]:null;if(e.__proto__&&!e.__proto__.isPrototypeOf(Function)){var s=n||r;i=s(i,a(e.__proto__,t,s))}e[o]=i}return e[o]}function s(e,t){if(e){var n=e[D];return t&&!e.hasOwnProperty(D)&&(n=null),n||(e[D]=S++)}return S++}function l(e){return e}function u(e){return"boolean"==typeof e}function g(e){return void 0!==e}function d(e){return g(e)&&!p(e)}function c(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&9===e.nodeType}function m(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&11===e.nodeType}function h(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&1===e.nodeType}function f(e){return"function"==typeof e}function p(e){return null===e}function v(e){return"number"==typeof e}function _(e){return null!==e&&e===e.window}function y(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);return"object"===t&&null!==e||"function"===t}function b(e){return e&&"object"===("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))&&"function"==typeof e.then}function E(e){return"string"==typeof e||e instanceof String}function C(){}var N=void 0,S=1,D="core_"+(1e9*Math.random()>>>0);this.metalNamed.coreNamed=this.metalNamed.coreNamed||{},this.metalNamed.coreNamed.UID_PROPERTY=D,this.metalNamed.coreNamed.abstractMethod=e,this.metalNamed.coreNamed.disableCompatibilityMode=t,this.metalNamed.coreNamed.enableCompatibilityMode=n,this.metalNamed.coreNamed.getCompatibilityModeData=o,this.metalNamed.coreNamed.getFunctionName=i,this.metalNamed.coreNamed.getStaticProperty=a,this.metalNamed.coreNamed.getUid=s,this.metalNamed.coreNamed.identityFunction=l,this.metalNamed.coreNamed.isBoolean=u,this.metalNamed.coreNamed.isDef=g,this.metalNamed.coreNamed.isDefAndNotNull=d,this.metalNamed.coreNamed.isDocument=c,this.metalNamed.coreNamed.isDocumentFragment=m,this.metalNamed.coreNamed.isElement=h,this.metalNamed.coreNamed.isFunction=f,this.metalNamed.coreNamed.isNull=p,this.metalNamed.coreNamed.isNumber=v,this.metalNamed.coreNamed.isWindow=_,this.metalNamed.coreNamed.isObject=y,this.metalNamed.coreNamed.isPromise=b,this.metalNamed.coreNamed.isString=E,this.metalNamed.coreNamed.nullFunction=C}.call(this),function(){var e=this.metalNamed.coreNamed;this.metal.core=e,this.metalNamed.core=this.metalNamed.core||{},this.metalNamed.core.core=e,Object.keys(this.metalNamed.coreNamed).forEach(function(e){this.metalNamed.core[e]=this.metalNamed.coreNamed[e]})}.call(this),function(){var e=this.metalNamed.core.isDef,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"equal",value:function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}},{key:"firstDefinedValue",value:function(e){for(var t=0;t<e.length;t++)if(void 0!==e[t])return e[t]}},{key:"flatten",value:function(e,n){for(var o=n||[],r=0;r<e.length;r++)Array.isArray(e[r])?t.flatten(e[r],o):o.push(e[r]);return o}},{key:"remove",value:function(e,n){var o=e.indexOf(n),r=void 0;return(r=o>=0)&&t.removeAt(e,o),r}},{key:"removeAt",value:function(e,t){return 1===Array.prototype.splice.call(e,t,1).length}},{key:"slice",value:function(t,n,o){for(var r=[],i=e(o)?o:t.length,a=n;a<i;a++)r.push(t[a]);return r}}]),t}();this.metal.array=t}.call(this),function(){var e={};e.throwException=function(t){e.nextTick(function(){throw t})},e.run=function(t,n){e.run.workQueueScheduled_||(e.nextTick(e.run.processWorkQueue),e.run.workQueueScheduled_=!0),e.run.workQueue_.push(new e.run.WorkItem_(t,n))},e.run.workQueueScheduled_=!1,e.run.workQueue_=[],e.run.processWorkQueue=function(){for(;e.run.workQueue_.length;){var t=e.run.workQueue_;e.run.workQueue_=[];for(var n=0;n<t.length;n++){var o=t[n];try{o.fn.call(o.scope)}catch(r){e.throwException(r)}}}e.run.workQueueScheduled_=!1},e.run.WorkItem_=function(e,t){this.fn=e,this.scope=t},e.nextTick=function(t,n){var o=t;return n&&(o=t.bind(n)),o=e.nextTick.wrapCallback_(o),"function"==typeof setImmediate?void setImmediate(o):(e.nextTick.setImmediate_||(e.nextTick.setImmediate_=e.nextTick.getSetImmediateEmulator_()),void e.nextTick.setImmediate_(o))},e.nextTick.setImmediate_=null,e.nextTick.getSetImmediateEmulator_=function(){var e=void 0;if("function"==typeof MessageChannel&&(e=MessageChannel),"undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,n=t.document;n.open(),n.write(""),n.close();var o="callImmediate"+Math.random(),r=t.location.protocol+"//"+t.location.host,i=function(e){e.origin!==r&&e.data!==o||this.port1.onmessage()}.bind(this);t.addEventListener("message",i,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(o,r)}}}),"undefined"!=typeof e){var t=new e,n={},o=n;return t.port1.onmessage=function(){n=n.next;var e=n.cb;n.cb=null,e()},function(e){o.next={cb:e},o=o.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){setTimeout(e,0)}},e.nextTick.wrapCallback_=function(e){return e},this.metal.async=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e),this.disposed_=!1}return babelHelpers.createClass(e,[{key:"dispose",value:function(){this.disposed_||(this.disposeInternal(),this.disposed_=!0)}},{key:"disposeInternal",value:function(){}},{key:"isDisposed",value:function(){return this.disposed_}}]),e}();this.metal.Disposable=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"mixin",value:function(e){for(var t=void 0,n=void 0,o=1;o<arguments.length;o++){n=arguments[o];for(t in n)e[t]=n[t]}return e}},{key:"getObjectByName",value:function(e,t){var n=t||window,o=e.split(".");return o.reduce(function(e,t){return e[t]},n)}},{key:"map",value:function(e,t){for(var n={},o=Object.keys(e),r=0;r<o.length;r++)n[o[r]]=t(o[r],e[o[r]]);return n}},{key:"shallowEqual",value:function(e,t){if(e===t)return!0;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(e[n[r]]!==t[n[r]])return!1;return!0}}]),e}();this.metal.object=e}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"caseInsensitiveCompare",value:function(e,t){var n=String(e).toLowerCase(),o=String(t).toLowerCase();return n<o?-1:n===o?0:1}},{key:"collapseBreakingSpaces",value:function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}},{key:"escapeRegex",value:function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}},{key:"getRandomString",value:function(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^Date.now()).toString(36)}},{key:"hashCode",value:function(e){for(var t=0,n=0,o=e.length;n<o;n++)t=31*t+e.charCodeAt(n),t%=4294967296;return t}},{key:"replaceInterval",value:function(e,t,n,o){return e.substring(0,t)+o+e.substring(n)}}]),e}();this.metal.string=e}.call(this),function(){var e=this.metal.core,t=this.metal.array,n=this.metal.async,o=this.metal.Disposable,r=this.metal.object,i=this.metal.string;this.metalNamed.metal=this.metalNamed.metal||{},Object.keys(this.metalNamed.core).forEach(function(e){this.metalNamed.metal[e]=this.metalNamed.core[e]}),this.metalNamed.metal.array=t,this.metalNamed.metal.async=n,this.metalNamed.metal.Disposable=o,this.metalNamed.metal.object=r,this.metalNamed.metal.string=i,this.metal.metal=e}.call(this),function(){function e(e,n){for(var o=Object.keys(n||{}),r=[],i=0;i<o.length;i++){var a=t(e,n[o[i]]);if(a.fn){var s=void 0;s=a.selector?e.delegate(o[i],a.selector,a.fn):e.on(o[i],a.fn),r.push(s)}}return r}function t(e,t){var a={fn:t};return r(t)&&!o(t)&&(a.selector=t.selector,a.fn=t.fn),i(a.fn)&&(a.fn=n(e,a.fn)),a}function n(e,t){if(o(e[t]))return e[t].bind(e)}var o=(this.metalNamed.metal.getFunctionName,this.metalNamed.metal.isFunction),r=this.metalNamed.metal.isObject,i=this.metalNamed.metal.isString;this.metalNamed.events=this.metalNamed.events||{},this.metalNamed.events.addListenersFromObj=e,this.metalNamed.events.getComponentFn=n}.call(this),function(){function e(e){var t=e.constructor;if(t.hasOwnProperty(o))return t[o];for(var n={},r=e.getDataManager().getSyncKeys(e),i=!0,a=0;a<r.length;a++){var s="sync"+r[a].charAt(0).toUpperCase()+r[a].slice(1),l=e[s];l&&(n[r[a]]=l,i=i&&e.constructor.prototype[s])}return i&&(t[o]=n),n}function t(t,o){for(var r=e(t),i=Object.keys(o||r),a=0;a<i.length;a++){var s=r[i[a]];if(n(s)){var l=o&&o[i[a]],u=t.getDataManager();s.call(t,l?l.newVal:u.get(t,i[a]),l?l.prevVal:void 0)}}}var n=this.metalNamed.metal.isFunction,o="__METAL_SYNC_FNS__";this.metalNamed.sync=this.metalNamed.sync||{},this.metalNamed.sync.syncState=t}.call(this),function(){var e="__metal_data__",t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"get",value:function(t,n,o){return t[e]||(t[e]={}),n?(!t[e][n]&&o&&(t[e][n]=o),t[e][n]):t[e]}},{key:"has",value:function(t){return!!t[e]}}]),t}();this.metal.domData=t}.call(this),function(){var e=this.metalNamed.metal.Disposable,t=function(e){function t(e,n,o){babelHelpers.classCallCheck(this,t);var r=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.emitter_=e,r.event_=n,r.listener_=o,r}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"disposeInternal",value:function(){this.removeListener(),this.emitter_=null,this.listener_=null}},{key:"removeListener",value:function(){this.emitter_.isDisposed()||this.emitter_.removeListener(this.event_,this.listener_)}}]),t}(e);this.metal.EventHandle=t}.call(this),function(){function e(e){return e=e||[],Array.isArray(e)?e:[e]}var t=this.metalNamed.metal.array,n=this.metalNamed.metal.Disposable,o=this.metalNamed.metal.isFunction,r=this.metalNamed.metal.isString,i=this.metal.EventHandle,a=[0],s=function(n){function s(){babelHelpers.classCallCheck(this,s);var e=babelHelpers.possibleConstructorReturn(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));return e.events_=null,e.listenerHandlers_=null,e.shouldUseFacade_=!1,e}return babelHelpers.inherits(s,n),babelHelpers.createClass(s,[{key:"addHandler_",value:function(e,t){return e?(Array.isArray(e)||(e=[e]),e.push(t)):e=t,e}},{key:"addListener",value:function(e,t,n){this.validateListener_(t);for(var o=this.toEventsArray_(e),r=0;r<o.length;r++)this.addSingleListener_(o[r],t,n);return new i(this,e,t)}},{key:"addSingleListener_",value:function(e,t,n,o){this.runListenerHandlers_(e),(n||o)&&(t={"default":n,fn:t,origin:o}),this.events_=this.events_||{},this.events_[e]=this.addHandler_(this.events_[e],t)}},{key:"buildFacade_",value:function(e){if(this.getShouldUseFacade()){var t={preventDefault:function(){t.preventedDefault=!0},target:this,type:e};return t}}},{key:"disposeInternal",value:function(){this.events_=null}},{key:"emit",value:function(e){var n=this.getRawListeners_(e);if(0===n.length)return!1;var o=t.slice(arguments,1);return this.runListeners_(n,o,this.buildFacade_(e)),!0}},{key:"getRawListeners_",value:function(t){var n=e(this.events_&&this.events_[t]);return n.concat(e(this.events_&&this.events_["*"]))}},{key:"getShouldUseFacade",value:function(){return this.shouldUseFacade_}},{key:"listeners",value:function(e){return this.getRawListeners_(e).map(function(e){return e.fn?e.fn:e})}},{key:"many",value:function(e,t,n){for(var o=this.toEventsArray_(e),r=0;r<o.length;r++)this.many_(o[r],t,n);return new i(this,e,n)}},{key:"many_",value:function(e,t,n){function o(){0===--t&&r.removeListener(e,o),n.apply(r,arguments)}var r=this;t<=0||r.addSingleListener_(e,o,!1,n)}},{key:"matchesListener_",value:function(e,t){var n=e.fn||e;return n===t||e.origin&&e.origin===t}},{key:"off",value:function(t,n){if(this.validateListener_(n),!this.events_)return this;for(var o=this.toEventsArray_(t),r=0;r<o.length;r++)this.events_[o[r]]=this.removeMatchingListenerObjs_(e(this.events_[o[r]]),n);return this}},{key:"on",value:function(){return this.addListener.apply(this,arguments)}},{key:"onListener",value:function(e){this.listenerHandlers_=this.addHandler_(this.listenerHandlers_,e)}},{key:"once",value:function(e,t){return this.many(e,1,t)}},{key:"removeAllListeners",value:function(e){if(this.events_)if(e)for(var t=this.toEventsArray_(e),n=0;n<t.length;n++)this.events_[t[n]]=null;else this.events_=null;return this}},{key:"removeMatchingListenerObjs_",value:function(e,t){for(var n=[],o=0;o<e.length;o++)this.matchesListener_(e[o],t)||n.push(e[o]);return n.length>0?n:null}},{key:"removeListener",value:function(){return this.off.apply(this,arguments)}},{key:"runListenerHandlers_",value:function(t){var n=this.listenerHandlers_;if(n){n=e(n);for(var o=0;o<n.length;o++)n[o](t)}}},{key:"runListeners_",value:function(e,t,n){n&&t.push(n);for(var o=[],r=0;r<e.length;r++){var i=e[r].fn||e[r];e[r]["default"]?o.push(i):i.apply(this,t)}if(!n||!n.preventedDefault)for(var a=0;a<o.length;a++)o[a].apply(this,t)}},{key:"setShouldUseFacade",value:function(e){return this.shouldUseFacade_=e,this}},{key:"toEventsArray_",value:function(e){return r(e)&&(a[0]=e,e=a),e}},{key:"validateListener_",value:function(e){if(!o(e))throw new TypeError("Listener must be a function")}}]),s}(n);this.metal.EventEmitter=s}.call(this),function(){var e=this.metalNamed.metal.Disposable,t=function(e){function t(e,n,o,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.blacklist_=o,i.originEmitter_=e,i.pendingEvents_=null,i.proxiedEvents_=null,i.targetEmitter_=n,i.whitelist_=r,i.startProxy_(),i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"addListener_",value:function(e,t){return this.originEmitter_.on(e,t)}},{key:"disposeInternal",value:function(){this.removeListeners_(),this.proxiedEvents_=null,this.originEmitter_=null,this.targetEmitter_=null}},{key:"emitOnTarget_",value:function(){this.targetEmitter_.emit.apply(this.targetEmitter_,arguments)}},{key:"proxyEvent",value:function(e){this.shouldProxyEvent_(e)&&this.tryToAddListener_(e)}},{key:"removeListeners_",value:function(){if(this.proxiedEvents_){for(var e=Object.keys(this.proxiedEvents_),t=0;t<e.length;t++)this.proxiedEvents_[e[t]].removeListener();this.proxiedEvents_=null}this.pendingEvents_=null}},{key:"setOriginEmitter",value:function(e){var t=this,n=this.originEmitter_&&this.proxiedEvents_?Object.keys(this.proxiedEvents_):this.pendingEvents_;this.originEmitter_=e,n&&(this.removeListeners_(),n.forEach(function(e){return t.proxyEvent(e)}))}},{key:"shouldProxyEvent_",value:function(e){return!(this.whitelist_&&!this.whitelist_[e])&&((!this.blacklist_||!this.blacklist_[e])&&(!this.proxiedEvents_||!this.proxiedEvents_[e]))}},{key:"startProxy_",value:function(){this.targetEmitter_.onListener(this.proxyEvent.bind(this))}},{key:"tryToAddListener_",value:function(e){this.originEmitter_?(this.proxiedEvents_=this.proxiedEvents_||{},this.proxiedEvents_[e]=this.addListener_(e,this.emitOnTarget_.bind(this,e))):(this.pendingEvents_=this.pendingEvents_||[],this.pendingEvents_.push(e))}}]),t}(e);this.metal.EventEmitterProxy=t}.call(this),function(){var e=this.metalNamed.metal.Disposable,t=function(e){function t(){babelHelpers.classCallCheck(this,t);var e=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.eventHandles_=[],e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"add",value:function(){for(var e=0;e<arguments.length;e++)this.eventHandles_.push(arguments[e])}},{key:"disposeInternal",value:function(){this.eventHandles_=null}},{key:"removeAllListeners",value:function(){for(var e=0;e<this.eventHandles_.length;e++)this.eventHandles_[e].removeListener();this.eventHandles_=[]}}]),t}(e);this.metal.EventHandler=t}.call(this),function(){var e=this.metal.EventEmitter,t=this.metal.EventEmitterProxy,n=this.metal.EventHandle,o=this.metal.EventHandler;this.metal.events=e,this.metalNamed.events=this.metalNamed.events||{},this.metalNamed.events.EventEmitter=e,this.metalNamed.events.EventEmitterProxy=t,this.metalNamed.events.EventHandle=n,this.metalNamed.events.EventHandler=o}.call(this),function(){var e=this.metalNamed.metal.array,t=this.metalNamed.metal.isString,n=this.metal.domData,o=this.metalNamed.events.EventHandle,r=function(o){function r(e,t,n,o){babelHelpers.classCallCheck(this,r);var i=babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,n));return i.selector_=o,i}return babelHelpers.inherits(r,o),babelHelpers.createClass(r,[{key:"removeListener",value:function(){var o=n.get(this.emitter_,"delegating",{}),r=n.get(this.emitter_,"listeners",{}),i=this.selector_,a=t(i)?o[this.event_].selectors:r,s=t(i)?i:this.event_;e.remove(a[s]||[],this.listener_),a[s]&&0===a[s].length&&delete a[s]}}]),r}(o);this.metal.DomDelegatedEventHandle=r}.call(this),function(){var e=this.metalNamed.events.EventHandle,t=function(e){function t(e,n,o,r){babelHelpers.classCallCheck(this,t);var i=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return i.capture_=r,i}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"removeListener",value:function(){this.emitter_.removeEventListener(this.event_,this.listener_,this.capture_)}}]),t}(e);this.metal.DomEventHandle=t}.call(this),function(){function e(e,o){if(Q(e)&&Z(o)){e.length||(e=[e]);for(var r=0;r<e.length;r++)"classList"in e[r]?t(e[r],o):n(e[r],o)}}function t(e,t){t.split(" ").forEach(function(t){t&&e.classList.add(t)})}function n(e,t){var n=" "+e.className+" ",o="";t=t.split(" ");for(var r=0;r<t.length;r++){var i=t[r];n.indexOf(" "+i+" ")===-1&&(o+=" "+i)}o&&(e.className=e.className+o)}function o(e,t,n){i(J.get(e,"listeners",{}),t,n)}function r(e,t,n,o){var r=J.get(e,"delegating",{});i(r[t].selectors,n,o)}function i(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function a(e,t){var n=J.get(e,"delegating",{});n[t]||(n[t]={handle:S(e,t,f,!!ae[t]),selectors:{}})}function s(e,t){for(;e&&!b(e,t);)e=e.parentNode;return e}function l(e,t){if(Z(t)&&(t=u(t)),t instanceof NodeList)for(var n=Array.prototype.slice.call(t),o=0;o<n.length;o++)e.appendChild(n[o]);else e.appendChild(t);return t}function u(e){var t=document.createElement("div");t.innerHTML="<br>"+e,t.removeChild(t.firstChild);for(var n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);return n}function g(e,t){return q(e)?e.documentElement.contains(t):e.contains(t)}function d(e,t,n,i,s){var l=re[t];return l&&l.delegate&&(t=l.originalEvent,i=l.handler.bind(l,i)),s&&(i=i.bind(),i.defaultListener_=!0),a(e,t),Z(n)?r(e,t,n,i):o(n,t,i),new ee(Z(n)?e:n,t,i,Z(n)?n:null)}function c(e,t,n){if(n&&"click"===t&&2===n.button)return!1;var o=["BUTTON","INPUT","SELECT","TEXTAREA","FIELDSET"];return!("click"===t&&o.indexOf(e.tagName)>-1)||!(e.disabled||k(e,"fieldset[disabled]"))}function m(e){e&&l(document.body,e)}function h(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function f(e){N(e);var t=!0,n=e.currentTarget,o=[];return t&=P(n,e,o),t&=x(o,e),e.delegateTarget=null,e[ie]=n,t}function p(e,t){return"classList"in e?v(e,t):_(e,t)}function v(e,t){return e.classList.contains(t)}function _(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>=0}function y(e){return 0===e.childNodes.length}function b(e,t){if(!e||1!==e.nodeType)return!1;var n=Element.prototype,o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;return o?o.call(e,t):E(e,t)}function E(e,t){for(var n=document.querySelectorAll(t,e.parentNode),o=0;o<n.length;++o)if(n[o]===e)return!0;return!1}function C(e,t){do if(e=e.nextSibling,e&&b(e,t))return e;while(e);return null}function N(e){e.stopPropagation=M,e.stopImmediatePropagation=A}function S(e,t,n,o){if(Z(e))return d(document,t,e,n);var r=re[t];return r&&r.event&&(t=r.originalEvent,n=r.handler.bind(r,n)),e.addEventListener(t,n,o),new te(e,t,n,o)}function D(e,t,n){var o=S(e,t,function(){return o.removeListener(),n.apply(this,arguments)});return o}function k(e,t){return s(e.parentNode,t)}function O(e,t){re[e]=t}function T(e){for(var t=void 0;t=e.firstChild;)e.removeChild(t)}function R(e,t){if(Q(e)&&Z(t)){e.length||(e=[e]);for(var n=0;n<e.length;n++)"classList"in e[n]?w(e[n],t):L(e[n],t)}}function w(e,t){t.split(" ").forEach(function(t){t&&e.classList.remove(t)})}function L(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var o=0;o<t.length;o++)n=n.replace(" "+t[o]+" "," ");e.className=n.trim()}function I(e,t){e&&t&&e!==t&&e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}function A(){var e=this;e.stopped=!0,e.stoppedImmediate=!0,Event.prototype.stopImmediatePropagation.call(e)}function M(){var e=this;e.stopped=!0,Event.prototype.stopPropagation.call(e)}function H(e,t){if(re[t])return!0;Z(e)&&(ne[e]||(ne[e]=document.createElement(e)),e=ne[e]);var n=e.tagName;return oe[n]&&oe[n].hasOwnProperty(t)||(oe[n]=oe[n]||{},oe[n][t]="on"+t in e),oe[n][t]}function x(e,t){for(var n=!0,o=0;o<e.length&&!t.defaultPrevented;o++)t.delegateTarget=e[o].element,n&=e[o].fn(t);return n}function P(e,t,n){for(var o=!0,r=t.target,i=e.parentNode;r&&r!==i&&!t.stopped;)c(r,t.type,t)&&(t.delegateTarget=r,o&=z(r,t,n),o&=V(e,r,t,n)),r=r.parentNode;return o}function F(e){return W(e)||q(e)||Y(e)?e:Z(e)?"#"===e[0]&&e.indexOf(" ")===-1?document.getElementById(e.substr(1)):document.querySelector(e):null}function U(e,t){Q(e)&&Z(t)&&("classList"in e?j(e,t):B(e,t))}function j(e,t){t.split(" ").forEach(function(t){e.classList.toggle(t)})}function B(e,t){var n=" "+e.className+" ";t=t.split(" ");for(var o=0;o<t.length;o++){var r=" "+t[o]+" ",i=n.indexOf(r);if(i===-1)n=""+n+t[o]+" ";else{var a=n.substring(0,i),s=n.substring(i+r.length);n=a+" "+s}}e.className=n.trim()}function z(e,t,n){var o=t[ie];if(!K(o)||!g(o,e)){var r=J.get(e,"listeners",{})[t.type];return $(r,t,e,n)}return!0}function G(e,t,n){if(c(e,t,n)){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),X.mixin(o,n),e.dispatchEvent(o)}}function $(e,t,n,o){var r=!0;e=e||[];for(var i=0;i<e.length&&!t.stoppedImmediate;i++)e[i].defaultListener_?o.push({element:n,fn:e[i]}):r&=e[i](t);return r}function V(e,t,n,o){for(var r=!0,i=J.get(e,"delegating",{}),a=i[n.type].selectors,s=Object.keys(a),l=0;l<s.length&&!n.stoppedImmediate;l++)if(b(t,s[l])){var u=a[s[l]];r&=$(u,n,t,o)}return r}var K=this.metalNamed.metal.isDef,q=this.metalNamed.metal.isDocument,Y=this.metalNamed.metal.isDocumentFragment,W=this.metalNamed.metal.isElement,Q=this.metalNamed.metal.isObject,Z=this.metalNamed.metal.isString,X=this.metalNamed.metal.object,J=this.metal.domData,ee=this.metal.DomDelegatedEventHandle,te=this.metal.DomEventHandle,ne={},oe={},re={};this.metalNamed.domNamed=this.metalNamed.domNamed||{},this.metalNamed.domNamed.customEvents=re;var ie="__metal_last_container__",ae={blur:!0,error:!0,focus:!0,invalid:!0,load:!0,scroll:!0};this.metalNamed.domNamed.addClasses=e,this.metalNamed.domNamed.closest=s,this.metalNamed.domNamed.append=l,this.metalNamed.domNamed.buildFragment=u,this.metalNamed.domNamed.contains=g,this.metalNamed.domNamed.delegate=d,this.metalNamed.domNamed.enterDocument=m,this.metalNamed.domNamed.exitDocument=h,this.metalNamed.domNamed.hasClass=p,this.metalNamed.domNamed.isEmpty=y,this.metalNamed.domNamed.match=b,this.metalNamed.domNamed.next=C,this.metalNamed.domNamed.on=S,this.metalNamed.domNamed.once=D,this.metalNamed.domNamed.parent=k,this.metalNamed.domNamed.registerCustomEvent=O,this.metalNamed.domNamed.removeChildren=T,this.metalNamed.domNamed.removeClasses=R,this.metalNamed.domNamed.replace=I,this.metalNamed.domNamed.supportsEvent=H,this.metalNamed.domNamed.toElement=F,this.metalNamed.domNamed.toggleClasses=U,this.metalNamed.domNamed.triggerEvent=G}.call(this),function(){var e=this.metalNamed.domNamed;this.metal.dom=e,this.metalNamed.dom=this.metalNamed.dom||{},this.metalNamed.dom.dom=e,Object.keys(this.metalNamed.domNamed).forEach(function(e){this.metalNamed.dom[e]=this.metalNamed.domNamed[e]})}.call(this),function(){var e=this.metalNamed.dom.delegate,t=this.metalNamed.dom.on,n=this.metalNamed.dom.supportsEvent,o=this.metalNamed.events.EventEmitterProxy,r=function(o){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return babelHelpers.inherits(r,o),babelHelpers.createClass(r,[{key:"addListener_",value:function(n,o){if(this.originEmitter_.addEventListener){if(this.isDelegateEvent_(n)){var i=n.indexOf(":",9),a=n.substring(9,i),s=n.substring(i+1);return e(this.originEmitter_,a,s,o)}return t(this.originEmitter_,n,o)}return babelHelpers.get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"addListener_",this).call(this,n,o)}},{key:"isDelegateEvent_",value:function(e){return"delegate:"===e.substr(0,9)}},{key:"isSupportedDomEvent_",value:function(e){return!this.originEmitter_||!this.originEmitter_.addEventListener||(this.isDelegateEvent_(e)&&e.indexOf(":",9)!==-1||n(this.originEmitter_,e))}},{key:"shouldProxyEvent_",value:function(e){return babelHelpers.get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"shouldProxyEvent_",this).call(this,e)&&this.isSupportedDomEvent_(e)}}]),r}(o);this.metal.DomEventEmitterProxy=r}.call(this),function(){var e=this.metalNamed.dom.append,t=this.metalNamed.metal.string,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"checkAnimationEventName",value:function(){return void 0===n.animationEventName_&&(n.animationEventName_={animation:n.checkAnimationEventName_("animation"),transition:n.checkAnimationEventName_("transition")}),n.animationEventName_}},{key:"checkAnimationEventName_",value:function(e){for(var o=["Webkit","MS","O",""],r=t.replaceInterval(e,0,1,e.substring(0,1).toUpperCase()),i=[r+"End",r+"End",r+"End",e+"end"],a=0;a<o.length;a++)if(void 0!==n.animationElement_.style[o[a]+r])return o[a].toLowerCase()+i[a];return e+"end"}},{key:"checkAttrOrderChange",value:function(){if(void 0===n.attrOrderChange_){var t='<div data-component="" data-ref=""></div>',o=document.createElement("div");e(o,t),n.attrOrderChange_=t!==o.innerHTML}return n.attrOrderChange_}}]),n}();n.animationElement_=document.createElement("div"),n.animationEventName_=void 0,n.attrOrderChange_=void 0,this.metal.features=n}.call(this),function(){var e=this.metalNamed.metal.async,t=this.metalNamed.dom.exitDocument,n=this.metalNamed.dom.once,o=function(){function o(){babelHelpers.classCallCheck(this,o)}return babelHelpers.createClass(o,null,[{key:"run",value:function(e,n){var o=document.createElement("script");return o.text=e,n?n(o):document.head.appendChild(o),t(o),o}},{key:"runFile",value:function(e,o,r){var i=document.createElement("script");i.src=e;var a=function(){t(i),o&&o()};return n(i,"load",a),n(i,"error",a),r?r(i):document.head.appendChild(i),i}},{key:"runScript",value:function(n,r,i){var a=function(){r&&r()};return n.type&&"text/javascript"!==n.type?void e.nextTick(a):(t(n),n.src?o.runFile(n.src,r,i):(e.nextTick(a),o.run(n.text,i)))}},{key:"runScriptsInElement",value:function(t,n,r){var i=t.querySelectorAll("script");i.length?o.runScriptsInOrder(i,0,n,r):n&&e.nextTick(n)}},{key:"runScriptsInOrder",value:function(t,n,r,i){o.runScript(t.item(n),function(){n<t.length-1?o.runScriptsInOrder(t,n+1,r,i):r&&e.nextTick(r)},i)}}]),o}();this.metal.globalEval=o}.call(this),function(){var e=this.metalNamed.metal.async,t=this.metalNamed.dom.once,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"run",value:function(e,t){var n=document.createElement("style");return n.innerHTML=e,t?t(n):document.head.appendChild(n),n}},{key:"runFile",value:function(e,t,o){var r=document.createElement("link");return r.rel="stylesheet",r.href=e,n.runStyle(r,t,o),r}},{key:"runStyle",value:function(n,o,r){var i=function(){o&&o()};return n.rel&&"stylesheet"!==n.rel?void e.nextTick(i):("STYLE"===n.tagName?e.nextTick(i):(t(n,"load",i),t(n,"error",i)),r?r(n):document.head.appendChild(n),n)}},{key:"runStylesInElement",value:function(t,o,r){var i=t.querySelectorAll("style,link");if(0===i.length&&o)return void e.nextTick(o);for(var a=0,s=function(){o&&++a===i.length&&e.nextTick(o)},l=0;l<i.length;l++)n.runStyle(i[l],s,r)}}]),n}();this.metal.globalEvalStyles=n}.call(this),function(){var e=this.metalNamed.dom.registerCustomEvent,t=this.metalNamed.dom.contains,n=this.metal.features,o={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};Object.keys(o).forEach(function(n){e(n,{delegate:!0,handler:function(e,o){var r=o.relatedTarget,i=o.delegateTarget;if(!r||r!==i&&!t(i,r))return o.customType=n,e(o)},originalEvent:o[n]})});var r={animation:"animationend",transition:"transitionend"};Object.keys(r).forEach(function(t){var o=r[t];e(o,{event:!0,delegate:!0,handler:function(e,t){return t.customType=o,e(t)},originalEvent:n.checkAnimationEventName()[t]})})}.call(this),function(){var e=this.metal.dom,t=this.metal.domData,n=this.metal.DomEventEmitterProxy,o=this.metal.DomEventHandle,r=this.metal.features,i=this.metal.globalEval,a=this.metal.globalEvalStyles;
this.metalNamed.dom=this.metalNamed.dom||{},Object.keys(this.metalNamed.dom).forEach(function(e){this.metalNamed.dom[e]=this.metalNamed.dom[e]}),this.metalNamed.dom.domData=t,this.metalNamed.dom.DomEventEmitterProxy=n,this.metalNamed.dom.DomEventHandle=o,this.metalNamed.dom.features=r,this.metalNamed.dom.globalEval=i,this.metalNamed.dom.globalEvalStyles=a,this.metal.dom=e}.call(this),function(){function e(e){var t=r(a.bind(null,e));return function(){return 0===arguments.length?t:t.apply(void 0,arguments)}}function t(e,t,n){var o=n?s(n.constructor):null,r=n&&n.getRenderer&&n.getRenderer(),i=r&&r.getParent&&r.getParent(),a=i?s(i.constructor):null,l=a?"Check render method of '"+a+"'.":"";return new Error("Warning: Invalid state passed to '"+t+"'. "+(e+" Passed to '"+o+"'. "+l))}function n(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":babelHelpers["typeof"](e)}function o(e){return e instanceof Error}function r(e){return function(t,n,o){return!l(t)||e(t,n,o)}}function i(e,n,r,i){for(var a=0;a<n.length;a++)if(o(e(n[a],r,i)))return t(u,r,i);return!0}function a(e,o,r,i){var a=n(o);if(a!==e){var s="Expected type '"+e+"', but received type '"+a+"'.";return t(s,r,i)}return!0}var s=this.metalNamed.metal.getFunctionName,l=this.metalNamed.metal.isDefAndNotNull,u="Expected an array of single type.",g="Expected object of one type.",d="Expected one of given values.",c="Expected one of given types.",m="Expected object with a specific shape.",h={any:function(){return function(){return!0}},array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),arrayOf:function(e){return r(function(t,n,r){var a=h.array(t,n,r);return o(a)?a:i(e,t,n,r)})},instanceOf:function(e){return r(function(n,o,r){if(n instanceof e)return!0;var i="Expected instance of "+e;return t(i,o,r)})},objectOf:function(e){return r(function(n,r,i){for(var a in n)if(o(e(n[a])))return t(g,r,i);return!0})},oneOf:function(e){return r(function(n,r,i){var a=h.array(e,r,i);return o(a)?a:e.indexOf(n)!==-1||t(d,r,i)})},oneOfType:function(e){return r(function(n,r,i){var a=h.array(e,r,i);if(o(a))return a;for(var s=0;s<e.length;s++)if(!o(e[s](n,r,i)))return!0;return t(c,r,i)})},shapeOf:function(e){return r(function(n,r,i){var a=h.object(e,r,i);if(o(a))return a;for(var s in e){var u=e[s],g=!1;if(u.config&&(g=u.config.required,u=u.config.validator),g&&!l(n[s])||o(u(n[s])))return t(m,r,i)}return!0})}};this.metal.validators=h}.call(this),function(){function e(e,n){var r=e;return r===o&&(r=Object.create(o),r.config={}),t.mixin(r.config,n),r}var t=this.metalNamed.metal.object,n=this.metal.validators,o={internal:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e(this,{internal:t})},required:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e(this,{required:t})},setter:function(t){return e(this,{setter:t})},validator:function(t){return e(this,{validator:t})},value:function(t){return e(this,{value:t})},valueFn:function(t){return e(this,{valueFn:t})}},r=Object.keys(n);r.forEach(function(e){return o[e]=function(){return this.validator(n[e])}}),this.metal.Config=o}.call(this),function(){var e=this.metalNamed.metal.async,t=this.metalNamed.metal.getStaticProperty,n=this.metalNamed.metal.isDefAndNotNull,o=this.metalNamed.metal.isFunction,r=this.metalNamed.metal.isObject,i=this.metalNamed.metal.isString,a=this.metalNamed.metal.object,s=this.metalNamed.events.EventEmitter,l=function(s){function l(e,t,n){babelHelpers.classCallCheck(this,l);var o=babelHelpers.possibleConstructorReturn(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return o.context_=n||o,o.keysBlacklist_=null,o.obj_=t||o,o.eventData_=null,o.scheduledBatchData_=null,o.stateInfo_={},o.stateConfigs_={},o.initialValues_=a.mixin({},e),o.setShouldUseFacade(!0),o.configStateFromStaticHint_(),Object.defineProperty(o.obj_,l.STATE_REF_KEY,{configurable:!0,enumerable:!1,value:o}),o}return babelHelpers.inherits(l,s),babelHelpers.createClass(l,[{key:"assertGivenIfRequired_",value:function(e){var t=this.stateConfigs_[e];if(t.required){var o=this.getStateInfo(e),r=o.state===l.KeyStates.INITIALIZED?this.get(e):this.initialValues_[e];if(!n(r)){var i='The property called "'+e+"\" is required but didn't receive a value.";if(this.shouldThrowValidationError())throw new Error(i)}}}},{key:"assertValidatorReturnInstanceOfError_",value:function(e){if(e instanceof Error&&this.shouldThrowValidationError())throw e}},{key:"assertValidStateKeyName_",value:function(e){if(this.keysBlacklist_&&this.keysBlacklist_[e])throw new Error("It's not allowed to create a state key with the name \""+e+'".')}},{key:"buildKeyPropertyDef_",value:function(e){return{configurable:!0,enumerable:!0,get:function(){return this[l.STATE_REF_KEY].getStateKeyValue_(e)},set:function(t){this[l.STATE_REF_KEY].setStateKeyValue_(e,t)}}}},{key:"callFunction_",value:function(e,t){return i(e)?this.context_[e].apply(this.context_,t):o(e)?e.apply(this.context_,t):void 0}},{key:"callSetter_",value:function(e,t,n){var o=this.stateConfigs_[e];return o.setter&&(t=this.callFunction_(o.setter,[t,n])),t}},{key:"callValidator_",value:function(e,t){var n=this.stateConfigs_[e];if(n.validator){var o=this.callFunction_(n.validator,[t,e,this.context_]);return this.assertValidatorReturnInstanceOfError_(o),o}return!0}},{key:"canSetState",value:function(e){var t=this.getStateInfo(e);return!this.stateConfigs_[e].writeOnce||!t.written}},{key:"configState",value:function(e,t){var n=Object.keys(e);if(0!==n.length){if(t!==!1){for(var o={},r=0;r<n.length;r++){var i=n[r];this.assertValidStateKeyName_(i),o[i]=this.buildKeyPropertyDef_(i)}Object.defineProperties(t||this.obj_,o)}this.stateConfigs_=e;for(var a=0;a<n.length;a++){var s=n[a];e[s]=e[s].config?e[s].config:e[s],this.assertGivenIfRequired_(n[a]),this.validateInitialValue_(n[a])}}}},{key:"configStateFromStaticHint_",value:function(){var e=this.constructor;if(e!==l){var t=void 0;this.obj_===this&&(t=!e.hasConfiguredState_&&e.prototype,e.hasConfiguredState_=!0),this.configState(l.getStateStatic(e),t)}}},{key:"disposeInternal",value:function(){babelHelpers.get(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"disposeInternal",this).call(this),this.initialValues_=null,this.stateInfo_=null,this.stateConfigs_=null,this.scheduledBatchData_=null}},{key:"emitBatchEvent_",value:function(){if(!this.isDisposed()){var e=this.scheduledBatchData_;this.scheduledBatchData_=null,this.context_.emit("stateChanged",e)}}},{key:"get",value:function(e){return this.obj_[e]}},{key:"getState",value:function(e){for(var t={},n=e||this.getStateKeys(),o=0;o<n.length;o++)t[n[o]]=this.get(n[o]);return t}},{key:"getStateInfo",value:function(e){return this.stateInfo_[e]||(this.stateInfo_[e]={}),this.stateInfo_[e]}},{key:"getStateKeyConfig",value:function(e){return this.stateConfigs_?this.stateConfigs_[e]:null}},{key:"getStateKeys",value:function(){return this.stateConfigs_?Object.keys(this.stateConfigs_):[]}},{key:"getStateKeyValue_",value:function(e){if(!this.warnIfDisposed_(e))return this.initStateKey_(e),this.getStateInfo(e).value}},{key:"hasBeenSet",value:function(e){var t=this.getStateInfo(e);return t.state===l.KeyStates.INITIALIZED||this.hasInitialValue_(e)}},{key:"hasInitialValue_",value:function(e){return this.initialValues_.hasOwnProperty(e)}},{key:"hasStateKey",value:function(e){if(!this.warnIfDisposed_(e))return!!this.stateConfigs_[e]}},{key:"informChange_",value:function(e,t){if(this.shouldInformChange_(e,t)){var n=a.mixin({key:e,newVal:this.get(e),prevVal:t},this.eventData_);this.context_.emit(e+"Changed",n),this.context_.emit("stateKeyChanged",n),this.scheduleBatchEvent_(n)}}},{key:"initStateKey_",value:function(e){var t=this.getStateInfo(e);t.state===l.KeyStates.UNINITIALIZED&&(t.state=l.KeyStates.INITIALIZING,this.setInitialValue_(e),t.written||this.setDefaultValue(e),t.state=l.KeyStates.INITIALIZED)}},{key:"removeStateKey",value:function(e){this.stateInfo_[e]=null,this.stateConfigs_[e]=null,delete this.obj_[e]}},{key:"scheduleBatchEvent_",value:function(t){this.scheduledBatchData_||(e.nextTick(this.emitBatchEvent_,this),this.scheduledBatchData_=a.mixin({changes:{}},this.eventData_));var n=t.key,o=this.scheduledBatchData_.changes;o[n]?o[n].newVal=t.newVal:o[n]=t}},{key:"set",value:function(e,t){this.hasStateKey(e)&&(this.obj_[e]=t)}},{key:"setDefaultValue",value:function(e){var t=this.stateConfigs_[e];void 0!==t.value?this.set(e,t.value):this.set(e,this.callFunction_(t.valueFn))}},{key:"setEventData",value:function(e){this.eventData_=e}},{key:"setInitialValue_",value:function(e){this.hasInitialValue_(e)&&(this.set(e,this.initialValues_[e]),this.initialValues_[e]=void 0)}},{key:"setKeysBlacklist",value:function(e){this.keysBlacklist_=e}},{key:"setState",value:function(e,t){var n=this;Object.keys(e).forEach(function(t){return n.set(t,e[t])}),t&&this.scheduledBatchData_&&this.context_.once("stateChanged",t)}},{key:"setStateKeyValue_",value:function(e,t){if(!this.warnIfDisposed_(e)&&this.canSetState(e)&&this.validateKeyValue_(e,t)){var n=this.get(e),o=this.getStateInfo(e);o.value=this.callSetter_(e,t,n),this.assertGivenIfRequired_(e),o.written=!0,this.informChange_(e,n)}}},{key:"shouldInformChange_",value:function(e,t){var n=this.getStateInfo(e);return n.state===l.KeyStates.INITIALIZED&&(r(t)||t!==this.get(e))}},{key:"shouldThrowValidationError",value:function(){return!1}},{key:"validateInitialValue_",value:function(e){this.hasInitialValue_(e)&&!this.callValidator_(e,this.initialValues_[e])&&delete this.initialValues_[e]}},{key:"validateKeyValue_",value:function(e,t){var n=this.getStateInfo(e);return n.state===l.KeyStates.INITIALIZING||this.callValidator_(e,t)}},{key:"warnIfDisposed_",value:function(e){var t=this.isDisposed();return t}}],[{key:"getStateStatic",value:function(e){return t(e,"STATE",l.mergeState)}},{key:"mergeState",value:function(e,t){return a.mixin({},t,e)}}]),l}(s);l.STATE_REF_KEY="__METAL_STATE_REF_KEY__",l.KeyStates={UNINITIALIZED:void 0,INITIALIZING:1,INITIALIZED:2},this.metal.State=l}.call(this),function(){var e=this.metal.validators,t=this.metal.Config,n=this.metal.State;this.metal.state=n,this.metalNamed.state=this.metalNamed.state||{},this.metalNamed.state.validators=e,this.metalNamed.state.Config=t,this.metalNamed.state.State=n}.call(this),function(){var e=this.metalNamed.metal.object,t=this.metal.state,n={components:!0,context:!0,element:!0,refs:!0,state:!0,stateKey:!0,wasRendered:!0},o="__DATA_MANAGER_DATA__",r=function(){function r(){babelHelpers.classCallCheck(this,r)}return babelHelpers.createClass(r,[{key:"createState_",value:function(o,r){var i=new t(o.getInitialConfig(),o,o);i.setKeysBlacklist(n),i.configState(e.mixin({},r,t.getStateStatic(o.constructor))),this.getManagerData(o).state_=i}},{key:"dispose",value:function(e){var t=this.getManagerData(e);t.state_&&t.state_.dispose(),e[o]=null}},{key:"get",value:function(e,t){return this.getManagerData(e).state_.get(t)}},{key:"getManagerData",value:function(e){return e[o]}},{key:"getSyncKeys",value:function(e){return this.getManagerData(e).state_.getStateKeys()}},{key:"getStateKeys",value:function(e){return this.getManagerData(e).state_.getStateKeys()}},{key:"getState",value:function(e){return this.getManagerData(e).state_.getState()}},{key:"getStateInstance",value:function(e){return this.getManagerData(e).state_}},{key:"replaceNonInternal",value:function(e,t,n){for(var o=n||this.getManagerData(e).state_,r=o.getStateKeys(),i=0;i<r.length;i++){var a=r[i];o.getStateKeyConfig(a).internal||(t.hasOwnProperty(a)?o.set(a,t[a]):o.setDefaultValue(a))}}},{key:"setState",value:function(e,t,n){this.getManagerData(e).state_.setState(t,n)}},{key:"setUp",value:function(e,t){e[o]={},this.createState_(e,t)}}]),r}();this.metal.ComponentDataManager=new r}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,[{key:"dispose",value:function(){}},{key:"getExtraDataConfig",value:function(){}},{key:"render",value:function(e){e.element||(e.element=document.createElement("div")),e.informRendered()}},{key:"setUp",value:function(){}},{key:"update",value:function(){}}]),e}();this.metal.ComponentRenderer=new e}.call(this),function(){var e=this.metalNamed.events.addListenersFromObj,t=this.metalNamed.metal.getStaticProperty,n=this.metalNamed.metal.isBoolean,o=this.metalNamed.metal.isDefAndNotNull,r=this.metalNamed.metal.isElement,i=this.metalNamed.metal.isObject,a=this.metalNamed.metal.isString,s=this.metalNamed.metal.object,l=this.metalNamed.sync.syncState,u=this.metalNamed.dom.DomEventEmitterProxy,g=this.metalNamed.dom.toElement,d=this.metal.ComponentDataManager,c=this.metal.ComponentRenderer,m=this.metalNamed.events.EventEmitter,h=this.metalNamed.events.EventHandler,f=function(n){function d(e,t){babelHelpers.classCallCheck(this,d);var n=babelHelpers.possibleConstructorReturn(this,(d.__proto__||Object.getPrototypeOf(d)).call(this));return n.elementEventProxy_=new u(null,n,p),n.eventsStateKeyHandler_=null,n.inDocument=!1,n.initialConfig_=e||{},n.wasRendered=!1,n.DEFAULT_ELEMENT_PARENT=document.body,n.setShouldUseFacade(!0),n.element=n.initialConfig_.element,n.setUpRenderer_(),n.setUpDataManager_(),n.setUpSyncUpdates_(),n.on("stateChanged",n.handleComponentStateChanged_),n.on("eventsChanged",n.onEventsChanged_),n.addListenersFromObj_(n.dataManager_.get(n,"events")),n.created(),n.componentCreated_=!0,t!==!1&&n.renderComponent(t),n}return babelHelpers.inherits(d,n),babelHelpers.createClass(d,[{key:"addListenersFromObj_",value:function(t){var n;this.eventsStateKeyHandler_||(this.eventsStateKeyHandler_=new h);var o=e(this,t);(n=this.eventsStateKeyHandler_).add.apply(n,babelHelpers.toConsumableArray(o))}},{key:"attach",value:function(e,t){return this.inDocument||(this.attachElement(e,t),this.inDocument=!0,this.attachData_={parent:e,sibling:t},this.emit("attached",this.attachData_),this.attached()),this}},{key:"attached",value:function(){}},{key:"attachElement",value:function(e,t){var n=this.element;if(n&&(t||!n.parentNode)){var o=g(e)||this.DEFAULT_ELEMENT_PARENT;o.insertBefore(n,g(t))}}},{key:"created",value:function(){}},{key:"delegate",value:function(e,t,n){return this.on("delegate:"+e+":"+t,n)}},{key:"detach",value:function(){return this.inDocument&&(this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.inDocument=!1,this.detached()),this.emit("detached"),this}},{key:"detached",value:function(){}},{key:"disposed",value:function(){}},{key:"disposeInternal",value:function(){this.detach(),this.disposed(),this.elementEventProxy_.dispose(),this.elementEventProxy_=null,this.dataManager_.dispose(this),this.dataManager_=null,this.renderer_.dispose(this),this.renderer_=null,babelHelpers.get(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"disposeInternal",this).call(this)}},{key:"getAttachData",value:function(){return this.attachData_}},{key:"getDataManager",value:function(){return this.dataManager_}},{key:"getInitialConfig",value:function(){return this.initialConfig_}},{key:"getState",value:function(){return this.dataManager_.getState(this)}},{key:"getStateKeys",value:function(){return this.dataManager_.getStateKeys(this)}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"handleComponentElementChanged_",value:function(e,t){this.elementEventProxy_.setOriginEmitter(t),this.componentCreated_&&(this.emit("elementChanged",{prevVal:e,newVal:t}),t&&this.wasRendered&&this.syncVisible(this.dataManager_.get(this,"visible")))}},{key:"handleComponentStateChanged_",value:function(e){this.hasSyncUpdates()||this.updateRenderer_(e),l(this,e.changes),this.emit("stateSynced",e)}},{key:"handleComponentStateKeyChanged_",value:function(e){this.updateRenderer_({changes:babelHelpers.defineProperty({},e.key,e)})}},{key:"hasSyncUpdates",value:function(){return this.syncUpdates_}},{key:"informRendered",value:function(){var e=!this.hasRendererRendered_;this.hasRendererRendered_=!0,this.rendered(e),this.emit("rendered",e)}},{key:"mergeElementClasses_",value:function(e,t){return e?e+" "+(t||""):t}},{key:"onEventsChanged_",value:function(e){this.eventsStateKeyHandler_.removeAllListeners(),this.addListenersFromObj_(e.newVal)}},{key:"renderComponent",value:function(e){this.hasRendererRendered_||(window.__METAL_DEV_TOOLS_HOOK__&&window.__METAL_DEV_TOOLS_HOOK__(this),this.getRenderer().render(this)),this.emit("render"),l(this),this.attach(e),this.wasRendered=!0}},{key:"setState",value:function(e,t){this.dataManager_.setState(this,e,t)}},{key:"setterElementClassesFn_",value:function(e){var n=t(this.constructor,"ELEMENT_CLASSES",this.mergeElementClasses_);return n&&(e+=" "+n),e.trim()}},{key:"setUpDataManager_",value:function(){this.dataManager_=t(this.constructor,"DATA_MANAGER"),this.dataManager_.setUp(this,s.mixin({},this.renderer_.getExtraDataConfig(this),d.DATA))}},{key:"setUpRenderer_",value:function(){this.renderer_=t(this.constructor,"RENDERER"),this.renderer_.setUp(this)}},{key:"setUpSyncUpdates_",value:function(){this.syncUpdates_=t(this.constructor,"SYNC_UPDATES"),this.hasSyncUpdates()&&this.on("stateKeyChanged",this.handleComponentStateKeyChanged_.bind(this))}},{key:"startSkipUpdates",value:function(){this.skipUpdates_=!0}},{key:"stopSkipUpdates",value:function(){this.skipUpdates_=!1}},{key:"syncVisible",value:function(e){this.element&&(this.element.style.display=e?"":"none")}},{key:"rendered",value:function(){}},{key:"updateRenderer_",value:function(e){!this.skipUpdates_&&this.hasRendererRendered_&&this.getRenderer().update(this,e)}},{key:"validatorEventsFn_",value:function(e){return!o(e)||i(e)}},{key:"element",get:function(){return this.elementValue_},set:function(e){if((r(e)||a(e)||!o(e))&&(e&&(e=g(e)||this.elementValue_),this.elementValue_!==e)){var t=this.elementValue_;this.elementValue_=e,this.handleComponentElementChanged_(t,e)}}}],[{key:"isComponentCtor",value:function(e){return e.prototype&&e.prototype[d.COMPONENT_FLAG]}},{key:"render",value:function(e,t,n){var o=t,i=n;r(t)&&(o=null,i=t);var a=new e(o,(!1));return a.renderComponent(i),a}},{key:"renderToString",value:function(e,t){var n=e.RENDERER&&e.RENDERER.RENDERER_NAME;switch(n){case"jsx":case"soy":case"incremental-dom":if("undefined"==typeof IncrementalDOM)throw new Error("Error. Trying to render incremental dom based component to string requires IncrementalDOM implementation to be loaded.");var o=[],r=IncrementalDOM.patch,i=function(){var e=r.apply(null,arguments);o.push(e.innerHTML),IncrementalDOM.patch=r};return IncrementalDOM.patch=i,d.render(e,t),o[0];default:throw new Error("Error. Trying to render non incremental dom based component to string.")}}}]),d}(m);f.DATA={children:{validator:Array.isArray,value:[]},elementClasses:{setter:"setterElementClassesFn_",validator:a,value:""},events:{validator:"validatorEventsFn_",value:null},visible:{validator:n,value:!0}},f.COMPONENT_FLAG="__metal_component__",f.DATA_MANAGER=d,f.ELEMENT_CLASSES="",f.RENDERER=c,f.SYNC_UPDATES=!1,f.prototype[f.COMPONENT_FLAG]=!0;var p={eventsChanged:!0,stateChanged:!0,stateKeyChanged:!0};this.metal.Component=f}.call(this),function(){var e=this.metalNamed.metal.getFunctionName,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"getConstructor",value:function(e){var n=t.components_[e];return n}},{key:"register",value:function(n,o){var r=o;r||(r=n.hasOwnProperty("NAME")?n.NAME:e(n)),n.NAME=r,t.components_[r]=n}}]),t}();t.components_={},this.metal.ComponentRegistry=t}.call(this),function(){var e=this.metal.Component,t=this.metal.ComponentDataManager,n=this.metal.ComponentRegistry,o=this.metal.ComponentRenderer;this.metal.component=e,this.metalNamed.component=this.metalNamed.component||{},this.metalNamed.component.Component=e,this.metalNamed.component.ComponentDataManager=t,this.metalNamed.component.ComponentRegistry=n,this.metalNamed.component.ComponentRenderer=o,Object.keys(this.metalNamed.events).forEach(function(e){this.metalNamed.component[e]=this.metalNamed.events[e]})}.call(this),function(){/**
   * @license
   * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *      http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS-IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   */
var e="undefined"!=typeof exports&&"undefined"!=typeof global?global:window;!function(e,t){t(e.IncrementalDOM=e.IncrementalDOM||{})}(e,function(e){"use strict";function t(){}function n(e,t){this.attrs=a(),this.attrsArr=[],this.newAttrs=a(),this.staticsApplied=!1,this.key=t,this.keyMap=a(),this.keyMapValid=!0,this.focused=!1,this.nodeName=e,this.text=null}function o(){this.created=h.nodesCreated&&[],this.deleted=h.nodesDeleted&&[]}var r=Object.prototype.hasOwnProperty;t.prototype=Object.create(null);var i=function(e,t){return r.call(e,t)},a=function(){return new t},s="__incrementalDOMData",l=function(e,t,o){var r=new n(t,o);return e[s]=r,r},u=function(e){return g(e),e[s]},g=function le(e){if(!e[s]){var t=e instanceof Element,n=t?e.localName:e.nodeName,o=t?e.getAttribute("key"):null,r=l(e,n,o);if(o&&(u(e.parentNode).keyMap[o]=e),t)for(var i=e.attributes,a=r.attrs,g=r.newAttrs,d=r.attrsArr,c=0;c<i.length;c+=1){var m=i[c],h=m.name,f=m.value;a[h]=f,g[h]=void 0,d.push(h),d.push(f)}for(var p=e.firstChild;p;p=p.nextSibling)le(p)}},d=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===u(t).nodeName?null:t.namespaceURI},c=function(e,t,n,o){var r=d(n,t),i=void 0;return i=r?e.createElementNS(r,n):e.createElement(n),l(i,n,o),i},m=function(e){var t=e.createTextNode("");return l(t,"#text",null),t},h={nodesCreated:null,nodesDeleted:null};o.prototype.markCreated=function(e){this.created&&this.created.push(e)},o.prototype.markDeleted=function(e){this.deleted&&this.deleted.push(e)},o.prototype.notifyChanges=function(){this.created&&this.created.length>0&&h.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&h.nodesDeleted(this.deleted)};var f=function(e){return e instanceof Document||e instanceof DocumentFragment},p=function(e,t){for(var n=[],o=e;o!==t;)n.push(o),o=o.parentNode;return n},v=function(e){for(var t=e,n=t;t;)n=t,t=t.parentNode;return n},_=function(e){var t=v(e);return f(t)?t.activeElement:null},y=function(e,t){var n=_(e);return n&&e.contains(n)?p(n,t):[]},b=function(e,t,n){for(var o=t.nextSibling,r=n;r!==t;){var i=r.nextSibling;e.insertBefore(r,o),r=i}},E=null,C=null,N=null,S=null,D=function(e,t){for(var n=0;n<e.length;n+=1)u(e[n]).focused=t},k=function(e){var t=function(t,n,r){var i=E,a=S,s=C,l=N;E=new o,S=t.ownerDocument,N=t.parentNode;var u=y(t,N);D(u,!0);var g=e(t,n,r);return D(u,!1),E.notifyChanges(),E=i,S=a,C=s,N=l,g};return t},O=k(function(e,t,n){return C=e,A(),t(n),x(),e}),T=k(function(e,t,n){var o={nextSibling:e};return C=o,t(n),e!==C&&e.parentNode&&L(N,e,u(N).keyMap),o===C?null:C}),R=function(e,t,n){var o=u(e);return t===o.nodeName&&n==o.key},w=function(e,t){if(!C||!R(C,e,t)){var n=u(N),o=C&&u(C),r=n.keyMap,i=void 0;if(t){var a=r[t];a&&(R(a,e,t)?i=a:a===C?E.markDeleted(a):L(N,a,r))}i||(i="#text"===e?m(S):c(S,N,e,t),t&&(r[t]=i),E.markCreated(i)),u(i).focused?b(N,i,C):o&&o.key&&!o.focused?(N.replaceChild(i,C),n.keyMapValid=!1):N.insertBefore(i,C),C=i}},L=function(e,t,n){t.parentNode===e&&e.removeChild(t),E.markDeleted(t);var o=u(t).key;o&&delete n[o]},I=function(){var e=N,t=u(e),n=t.keyMap,o=t.keyMapValid,r=e.lastChild,i=void 0;if(r!==C||!o){for(;r!==C;)L(e,r,n),r=e.lastChild;if(!o){for(i in n)r=n[i],r.parentNode!==e&&(E.markDeleted(r),delete n[i]);t.keyMapValid=!0}}},A=function(){N=C,C=null},M=function(){return C?C.nextSibling:N.firstChild},H=function(){C=M()},x=function(){I(),C=N,N=N.parentNode},P=function(e,t){return H(),w(e,t),A(),N},F=function(){return x(),C},U=function(){return H(),w("#text",null),C},j=function(){return N},B=function(){return M()},z=function(){C=N.lastChild},G=H,$={"default":"__default"},V=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},K=function(e,t,n){if(null==n)e.removeAttribute(t);else{var o=V(t);o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}},q=function(e,t,n){e[t]=n},Y=function(e,t,n){t.indexOf("-")>=0?e.setProperty(t,n):e[t]=n},W=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var o=e.style,r=n;for(var a in r)i(r,a)&&Y(o,a,r[a])}},Q=function(e,t,n){var o="undefined"==typeof n?"undefined":babelHelpers["typeof"](n);"object"===o||"function"===o?q(e,t,n):K(e,t,n)},Z=function(e,t,n){var o=u(e),r=o.attrs;if(r[t]!==n){var i=X[t]||X[$["default"]];i(e,t,n),r[t]=n}},X=a();X[$["default"]]=Q,X.style=W;var J=3,ee=[],te=function(e,t,n,o){var r=P(e,t),i=u(r);if(!i.staticsApplied){if(n)for(var a=0;a<n.length;a+=2){var s=n[a],l=n[a+1];Z(r,s,l)}i.staticsApplied=!0}for(var g=i.attrsArr,d=i.newAttrs,c=!g.length,m=J,h=0;m<arguments.length;m+=2,h+=2){var f=arguments[m];if(c)g[h]=f,d[f]=void 0;else if(g[h]!==f)break;var l=arguments[m+1];(c||g[h+1]!==l)&&(g[h+1]=l,Z(r,f,l))}if(m<arguments.length||h<g.length){for(;m<arguments.length;m+=1,h+=1)g[h]=arguments[m];for(h<g.length&&(g.length=h),m=0;m<g.length;m+=2){var s=g[m],l=g[m+1];d[s]=l}for(var p in d)Z(r,p,d[p]),d[p]=void 0}return r},ne=function(e,t,n){ee[0]=e,ee[1]=t,ee[2]=n},oe=function(e,t){ee.push(e),ee.push(t)},re=function(){var e=te.apply(null,ee);return ee.length=0,e},ie=function(e){var t=F();return t},ae=function(e,t,n,o){return te.apply(null,arguments),ie(e)},se=function(e,t){var n=U(),o=u(n);if(o.text!==e){o.text=e;for(var r=e,i=1;i<arguments.length;i+=1){var a=arguments[i];r=a(r)}n.data=r}return n};e.patch=O,e.patchInner=O,e.patchOuter=T,e.currentElement=j,e.currentPointer=B,e.skip=z,e.skipNode=G,e.elementVoid=ae,e.elementOpenStart=ne,e.elementOpenEnd=re,e.elementOpen=te,e.elementClose=ie,e.text=se,e.attr=oe,e.symbols=$,e.attributes=X,e.applyAttr=K,e.applyProp=q,e.notifications=h,e.importNode=g})}.call(this),function(){var e="undefined"!=typeof process&&!process.browser;if(e&&"test"!==process.env.NODE_ENV){var t=global;!function(e,t){t(e.IncrementalDOM=e.IncrementalDOM||{})}(t,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e,t){for(;e.length>t;)e.pop()},n=null,o=3,r=[],i=[],a={},s={"default":"__default"},l=function(e,t){r.push(e),r.push(t)},u=function(){return n},g=function(){return{}},d=function(e){return"function"==typeof e?void new e:void i.push("</"+e+">")},c=function(e,t,n,o){return m.apply(null,arguments),d(e)},m=function(e,t,r,a){if("function"==typeof e)return new e,n;if(i.push("<"+e),r)for(var s=0;s<r.length;s+=2){var l=r[s],u=r[s+1];i.push(" "+l+'="'+u+'"')}for(var g=o,d=0;g<arguments.length;g+=2,d+=2){var c=arguments[g],m=arguments[g+1];i.push(" "+c+'="'+m+'"')}return i.push(">"),n},h=function(){m.apply(null,r),t(r,0)},f=function(e,t,n){r[0]=e,r[1]=t,r[2]=n},p=function(e,t,o){return n=e,t(o),n.innerHTML=i.join(""),i=[],n},v=p,_=p,y=function(e,t){for(var n=e,o=1;o<arguments.length;o+=1){var r=arguments[o];n=r(n)}i.push(n)},b=function(e){return p({},e),u().innerHTML};e.attr=l,e.attributes=a,e.currentElement=u,e.currentPointer=g,e.elementClose=d,e.elementOpen=m,e.elementOpenEnd=h,e.elementOpenStart=f,e.elementVoid=c,e.patch=p,e.patchInner=_,e.patchOuter=v,e.renderToString=b,e.symbols=s,e.text=y})}}.call(this),function(){function e(e){e[n]=null}function t(e){return e[n]||(e[n]={}),e[n]}var n="__METAL_IC_RENDERER_DATA__";this.metalNamed.data=this.metalNamed.data||{},this.metalNamed.data.clearData=e,this.metalNamed.data.getData=t}.call(this),function(){function e(e){e.changes=null}function t(e,t){e.changes=e.changes||{};var n=t.type||"props";e.changes[n]=e.changes[n]||{},e.changes[n][t.key]=t}function n(e){return r(e).changes}function o(e){var n=r(e);e.on("stateKeyChanged",t.bind(null,n))}var r=this.metalNamed.data.getData;this.metalNamed.changes=this.metalNamed.changes||{},this.metalNamed.changes.clearChanges=e,this.metalNamed.changes.getChanges=n,this.metalNamed.changes.trackChanges=o}.call(this),function(){function e(e){var t={};e[1]&&(t.key=e[1]);for(var n=(e[2]||[]).concat(e.slice(3)),o=0;o<n.length;o+=2)t[n[o]]=n[o+1];return t}function t(e,t){for(var n=[e,t.key,[]],o=Object.keys(t),r=0;r<o.length;r++)"children"!==o[r]&&n.push(o[r],t[o[r]]);return n}this.metalNamed.callArgs=this.metalNamed.callArgs||{},this.metalNamed.callArgs.buildConfigFromCall=e,this.metalNamed.callArgs.buildCallFromConfig=t}.call(this),function(){function e(){return d}function t(e){return d[e]}function n(e){e.attr=r,e.elementOpenEnd=a,e.elementOpenStart=i,e.elementVoid=s,c.push(e)}function o(){c.pop()}function r(e,t){m.push(e,t)}function i(e,t,n){m=[e,t,n]}function a(){var e;return(e=IncrementalDOM).elementOpen.apply(e,babelHelpers.toConsumableArray(m))}function s(){return IncrementalDOM.elementOpen.apply(null,arguments),IncrementalDOM.elementClose.apply(null,arguments)}function l(){return c.length>0?c[c.length-1]:null}function u(e){var t={name:e},n=g.bind(t);return n}function g(){var e=this.name,t=l(),n=t&&t[e]||d[e];return n.apply(null,arguments)}this.metalNamed.intercept=this.metalNamed.intercept||{},this.metalNamed.intercept.getOriginalFns=e,this.metalNamed.intercept.getOriginalFn=t,this.metalNamed.intercept.startInterception=n,this.metalNamed.intercept.stopInterception=o;var d={attr:IncrementalDOM.attr,attributes:IncrementalDOM.attributes[IncrementalDOM.symbols["default"]],elementClose:IncrementalDOM.elementClose,elementOpen:IncrementalDOM.elementOpen,elementOpenEnd:IncrementalDOM.elementOpenEnd,elementOpenStart:IncrementalDOM.elementOpenStart,elementVoid:IncrementalDOM.elementVoid,text:IncrementalDOM.text},c=[],m=[];IncrementalDOM.attr=u("attr"),IncrementalDOM.elementClose=u("elementClose"),IncrementalDOM.elementOpen=u("elementOpen"),IncrementalDOM.elementOpenEnd=u("elementOpenEnd"),IncrementalDOM.elementOpenStart=u("elementOpenStart"),IncrementalDOM.elementVoid=u("elementVoid"),IncrementalDOM.text=u("text"),IncrementalDOM.attributes[IncrementalDOM.symbols["default"]]=u("attributes")}.call(this),function(){function e(e,t,n){y=e,p=t,f=n,b={props:{children:[]}},b.config=b.props,v=b,_=!0,c({elementClose:a,elementOpen:s,text:l})}function t(e){return d(e.tag)}function n(e){return e[h]}function o(e,t){if(_)return void i(e);if(!t||!t.call(null,e))if(d(e.text)){var r=e.args?e.args:[];r[0]=e.text,IncrementalDOM.text.apply(null,r)}else{var a=u(e.tag,e.props);if(a[0]={tag:a[0],owner:n(e)},IncrementalDOM.elementOpen.apply(null,a),e.props.children)for(var s=0;s<e.props.children.length;s++)o(e.props.children[s],t);IncrementalDOM.elementClose(e.tag)}}function r(e,t){var n=babelHelpers.defineProperty({parent:v},h,y);return t?(n.text=e[0],e.length>1&&(n.args=e)):(n.tag=e[0],n.props=g(e),n.props.children=[],n.config=n.props),i(n),n}function i(e){v.props.children.push(e)}function a(){if(v===b){m(),_=!1;var e=p.call(y,b,f);return p=null,f=null,v=null,y=null,b=null,e}return v=v.parent,!0}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];v=r(t)}function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r(t,!0)}var u=this.metalNamed.callArgs.buildCallFromConfig,g=this.metalNamed.callArgs.buildConfigFromCall,d=this.metalNamed.metal.isDef,c=this.metalNamed.intercept.startInterception,m=this.metalNamed.intercept.stopInterception,h="__metalChildOwner";this.metalNamed.children=this.metalNamed.children||{},this.metalNamed.children.CHILD_OWNER=h,this.metalNamed.children.captureChildren=e,this.metalNamed.children.isChildTag=t,this.metalNamed.children.getOwner=n,this.metalNamed.children.renderChildTree=o;var f=void 0,p=void 0,v=void 0,_=!1,y=void 0,b=void 0}.call(this),function(){function e(e,n,o,l){var u=i(o);return u?void t(e,n,o,u,l):(l=r(o,l),s(n,o,l),void(d(l)?a(n,o,l):g("attributes")(n,o,l)))}function t(e,t,n,o,r){var i=o+h;t[i]&&(t[i].removeListener(),t[i]=null),t[n]=r;var a="data-on"+o.toLowerCase();r?(r.givenAsName_&&t.setAttribute(a,r.givenAsName_),t[i]=l(document,o,t,r)):t.removeAttribute(a)}function n(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];t[i]=o(e,i,t[i])}}function o(e,t,n){if(m(n)){var o=i(t);if(o){var r=u(e,n);return r.givenAsName_=n,r}}return n}function r(e,t){return"checked"===e&&(t=c(t)&&t!==!1),t}function i(e){var t=f.exec(e),n=t?t[1]?t[1]:t[2]:null;return n?n.toLowerCase():null}function a(e,t,n){e[t]=n,n?e.setAttribute(t,""):e.removeAttribute(t)}function s(e,t,n){"value"===t&&e.value!==n&&(e[t]=n)}var l=this.metalNamed.dom.delegate,u=this.metalNamed.component.getComponentFn,g=this.metalNamed.intercept.getOriginalFn,d=this.metalNamed.metal.isBoolean,c=this.metalNamed.metal.isDefAndNotNull,m=this.metalNamed.metal.isString,h="__handle__",f=/^(?:on([A-Z].+))|(?:data-on(.+))$/;this.metalNamed.attributes=this.metalNamed.attributes||{},this.metalNamed.attributes.applyAttribute=e,this.metalNamed.attributes.convertListenerNamesToFns=n}.call(this),function(){function e(){if(!r){r=!0;for(var e=0;e<o.length;e++){var t=o[e];t.isDisposed()||n(t).parent||(t.element=null,t.dispose())}o=[],r=!1}}function t(e){for(var t=0;t<e.length;t++)e[t].isDisposed()||(n(e[t]).parent=null,o.push(e[t]))}var n=this.metalNamed.data.getData,o=[],r=!1;this.metalNamed.unused=this.metalNamed.unused||{},this.metalNamed.unused.disposeUnused=e,this.metalNamed.unused.schedule=t}.call(this),function(){function e(e,t){t["class"]?(t["class"]+=" "+e,t["class"]=b(t["class"])):t["class"]=e}function t(e){return 0===e.length?ne:e}function n(e){X(),j(e).rootElementReached||(e.element=null),e.informRendered(),o()}function o(){te.pop(),0===te.length&&Y()}function r(e,t){var n=j(e);return!n.rootElementReached&&n.config.key&&(t=n.config.key),e.getRenderer().generateKey(e,t)}function i(e){return e.childComponents=e.childComponents||[],e.childComponents}function a(){return te[te.length-1]}function s(){var e=IncrementalDOM.currentElement(),t=a(),n=j(t);return n.rootElementReached&&e!==t.element.parentNode&&(n=U.get(e)),n.icComponentsData=n.icComponentsData||{},n.icComponentsData}function l(e,t){var n=B();if(n){var o=e.getRenderer(),r=n.renderers,i=!r||r.indexOf(o)!==-1||r.indexOf(o.RENDERER_NAME)!==-1;if(i&&t.key&&!t.ref)return t.key}return t.ref}function u(e,t,n){var o=e;K(o)&&(o=ee.getConstructor(e));var r=l(n,t),i=void 0;if(G(r))i=_(n.components[r],o,t,n),n.components[r]=i,n.refs[r]=i;else{var a=s(),u=t.key;if(!G(u)){var g=z(o,!0);a.currCount=a.currCount||{},a.currCount[g]=a.currCount[g]||0,u="__METAL_IC__"+g+"_"+a.currCount[g]++}i=_(a.prevComps?a.prevComps[u]:null,o,t,n),a.currComps=a.currComps||{},a.currComps[u]=i}return i}function g(e,n){var o=n.props,r=n.tag;return o.children=t(e.props.children),N(r,o)}function d(e){if(e.tag&&p(e.tag))return e.props.children=t(e.props.children),N(e.tag,e.props,H(e)),!0}function c(e,t,n){w(a(),e,t,n)}function m(e){return p(e)?f.apply(null,arguments):h.apply(null,arguments)}function h(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=I(n),s=n[0],l=a(),u=l;if(x(s)&&(u=s.owner,s=s.tag),i.key=r(l,i.key),!j(l).rootElementReached){var g=l.getDataManager().get(l,"elementClasses");g&&e(g,i)}L(l,i);var d=A(s,i),c=Q("elementOpen").apply(null,d);return O(c),R(l,c),$(i.ref)&&(u.refs[i.ref]=c),u.getRenderer().handleNodeRendered(c),c}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];M(a(),g,{props:I(t),tag:t[0]})}function p(e){return V(e)||K(e)&&e[0]===e[0].toUpperCase()}function v(e,t,n){return!(!e||e.constructor!==t||e.isDisposed())&&j(e).owner===n}function _(e,t,n,o){return v(e,t,o)?(e.startSkipUpdates(),e.getDataManager().replaceNonInternal(e,n),e.stopSkipUpdates()):e=new t(n,(!1)),j(e).config=n,e}function y(e){te.push(e);var t=j(e);k(t.icComponentsData),F(t),t.rootElementReached=!1,e.refs={},t.childComponents&&(W(t.childComponents),t.childComponents=null),Z({attributes:c,elementOpen:m})}function b(e){for(var t=[],n=e.split(/\s+/),o={},r=0;r<n.length;r++)o[n[r]]||(o[n[r]]=!0,t.push(n[r]));return t.join(" ")}function E(e){y(e),e.getRenderer().renderIncDom(e),n(e)}function C(e){P(e,d)}function N(e,t,n){if(K(e)||e.prototype.getRenderer){var o=D(e,t,n);return R(a(),o.element),o.element}return e(t)}function S(e,t,n,o){if(!J.isComponentCtor(t)){var r=t,i=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"created",value:function(){var e=a();e&&T(this,e)}},{key:"render",value:function(){r(this.getInitialConfig())}}]),t}(J);i.RENDERER=e,t=i}return J.render(t,n,o)}function D(e,t,n){var o=a(),r=n||o,s=u(e,t,r);T(s,o);var l=j(s);l.parent=o,l.owner=r;var g=j(o);return i(g).push(s),t.key||g.rootElementReached||(t.key=g.config.key),s.getRenderer().renderInsidePatch(s),s.wasRendered||s.renderComponent(),s}function k(e){e&&(e.prevComps=e.currComps,e.currComps=null,e.currCount=null)}function O(e){U.has(e)&&k(U.get(e).icComponentsData)}function T(e,t){var n=e.context,o=t.getChildContext?t.getChildContext():null;q.mixin(n,t.context,o),e.context=n}function R(e,t){var n=j(e);n.rootElementReached||(n.rootElementReached=!0,e.element!==t&&(e.element=t))}var w=this.metalNamed.attributes.applyAttribute,L=this.metalNamed.attributes.convertListenerNamesToFns,I=this.metalNamed.callArgs.buildConfigFromCall,A=this.metalNamed.callArgs.buildCallFromConfig,M=this.metalNamed.children.captureChildren,H=this.metalNamed.children.getOwner,x=this.metalNamed.children.isChildTag,P=this.metalNamed.children.renderChildTree,F=this.metalNamed.changes.clearChanges,U=this.metalNamed.dom.domData,j=this.metalNamed.data.getData,B=this.metalNamed.metal.getCompatibilityModeData,z=this.metalNamed.metal.getUid,G=this.metalNamed.metal.isDef,$=this.metalNamed.metal.isDefAndNotNull,V=this.metalNamed.metal.isFunction,K=this.metalNamed.metal.isString,q=this.metalNamed.metal.object,Y=this.metalNamed.unused.disposeUnused,W=this.metalNamed.unused.schedule,Q=this.metalNamed.intercept.getOriginalFn,Z=this.metalNamed.intercept.startInterception,X=this.metalNamed.intercept.stopInterception,J=this.metalNamed.component.Component,ee=this.metalNamed.component.ComponentRegistry,te=[],ne=[];this.metalNamed.render=this.metalNamed.render||{},this.metalNamed.render.getComponentBeingRendered=a,this.metalNamed.render.isComponentTag_=p,this.metalNamed.render.render=E,this.metalNamed.render.renderChild=C,this.metalNamed.render.renderFunction=S}.call(this),function(){function e(e){if(!e||!e.parentNode){var t=document.createElement("div");return e&&a(t,e),t}}function t(e,t,n){g.push(e);var o=l(e);o.render||(o.render=u.bind(null,e));var r=n?IncrementalDOM.patchOuter:IncrementalDOM.patch;r(t,o.render),g.pop()}function n(){return g[g.length-1]}function o(e){if(!r(e)&&!i(e)){var n=e.element;t(e,n,!0)}}function r(e){var t=l(e);if(!e.element&&t.parent)return t.parent.getRenderer().patch(t.parent),!0}function i(n){var o=e(n.element);if(o){if(t(n,o),s(n.element),n.element&&n.inDocument){var r=n.getAttachData();n.attachElement(r.parent,r.sibling)}return!0}}var a=this.metalNamed.dom.append,s=this.metalNamed.dom.exitDocument,l=this.metalNamed.data.getData,u=this.metalNamed.render.render,g=[];this.metalNamed.patch=this.metalNamed.patch||{},this.metalNamed.patch.getPatchingComponent=n,this.metalNamed.patch.patch=o}.call(this),function(){var e=this.metalNamed.changes.getChanges,t=this.metalNamed.changes.trackChanges,n=this.metalNamed.data.clearData,o=this.metalNamed.data.getData,r=this.metalNamed.children.getOwner,i=this.metalNamed.patch.getPatchingComponent,a=this.metalNamed.patch.patch,s=this.metalNamed.render.render,l=this.metalNamed.render.renderChild,u=this.metalNamed.render.renderFunction,g=this.metalNamed.component.Component,d=this.metalNamed.component.ComponentRenderer,c=function(d){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return babelHelpers.inherits(c,d),babelHelpers.createClass(c,[{key:"buildShouldUpdateArgs",value:function(e){return[e.props]}},{key:"dispose",value:function(e){var t=o(e),r=t.config.ref,i=t.owner;if(i&&i.components&&i.components[r]===e&&delete i.components[r],t.childComponents)for(var a=0;a<t.childComponents.length;a++){var s=t.childComponents[a];s.isDisposed()||(s.element=null,s.dispose())}n(e)}},{key:"generateKey",value:function(e,t){return t}},{key:"getConfig",value:function(e){return o(e).config}},{key:"getData",value:function(e){return o(e)}},{key:"getPatchingComponent",value:function(){return i()}},{key:"handleNodeRendered",value:function(){}},{key:"isIncDomNode",value:function(e){return!!r(e)}},{key:"patch",value:function(e){a(e)}},{key:"render",value:function(e,t,n){return e instanceof g?void this.patch(e):u(this,e,t,n)}},{key:"renderChild",value:function(e){l(e)}},{key:"renderIncDom",value:function(e){e.render?e.render():IncrementalDOM.elementVoid("div")}},{key:"renderInsidePatch",value:function(t){var n=!t.wasRendered||this.shouldUpdate(t,e(t))||IncrementalDOM.currentPointer()!==t.element;n?s(t):t.element&&this.skipRender()}},{key:"setUp",value:function(e){e.context={},e.components={},e.refs={};var n=o(e);n.config=e.getInitialConfig(),t(e)}},{key:"shouldUpdate",value:function(e,t){return!!t&&(!e.shouldUpdate||e.shouldUpdate.apply(e,babelHelpers.toConsumableArray(this.buildShouldUpdateArgs(t))))}},{key:"skipNextChildrenDisposal",value:function(e){o(e).childComponents=null}},{key:"skipRender",value:function(){IncrementalDOM.skipNode()}},{key:"update",value:function(t){this.shouldUpdate(t,e(t))&&this.patch(t)}}]),c}(d.constructor),m=new c;m.RENDERER_NAME="incremental-dom",this.metal.IncrementalDomRenderer=m}.call(this),function(){(function(){this.CLOSURE_NO_DEPS=!0,this.goog=this.goog||{};var COMPILED=!1,goog=this.goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,n){var o=e.split("."),r=n||goog.global;o[0]in r||!r.execScript||r.execScript("var "+o[0]);for(var i;o.length&&(i=o.shift());)!o.length&&goog.isDef(t)?r[i]=t:r=r[i]?r[i]:r[i]={}},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.define("goog.DEBUG",!0),goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG),goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",!1),goog.provide=function(e){if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var n=e;(n=n.substring(0,n.lastIndexOf(".")))&&!goog.getObjectByName(n);)goog.implicitNamespaces_[n]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED)return goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var n,o=e.split("."),r=t||goog.global;n=o.shift();){if(!goog.isDefAndNotNull(r[n]))return null;r=r[n]}return r},goog.globalize=function(e,t){var n=t||goog.global;for(var o in e)n[o]=e[o]},goog.addDependency=function(e,t,n,o){if(goog.DEPENDENCIES_ENABLED){var r,i,a=e.replace(/\\/g,"/"),s=goog.dependencies_;o&&"boolean"!=typeof o||(o=o?{module:"goog"}:{});for(var l=0;r=t[l];l++)s.nameToPath[r]=a,s.pathIsModule[a]="goog"==o.module;for(var u=0;i=n[u];u++)a in s.requires||(s.requires[a]={}),s.requires[a][i]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.writeScripts_(t),null}var n="goog.require could not find: "+e;throw goog.logToConsole_(n),Error(n)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.define("goog.LOAD_MODULE_USING_EVAL",!0),goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG),goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))return void(goog.basePath=goog.global.CLOSURE_BASE_PATH);if(goog.inHtmlDocument_())for(var e=goog.global.document,t=e.getElementsByTagName("SCRIPT"),n=t.length-1;n>=0;--n){var o=t[n],r=o.src,i=r.lastIndexOf("?"),a=i==-1?r.length:i;if("base.js"==r.substr(a-7,7))return void(goog.basePath=r.substr(0,a-7))}},goog.importScript_=function(e,t){var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;n(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){var t='goog.retrieveAndExecModule_("'+e+'");';goog.importScript_("",t)&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var n=0;n<e;n++){var o=t[n];goog.maybeProcessDeferredPath_(o)}}},goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}},goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e);if(t&&goog.dependencies_.pathIsModule[t]){var n=goog.basePath+t;return n in goog.dependencies_.deferred}return!1},goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires)for(var n in goog.dependencies_.requires[t])if(!goog.isProvided_(n)&&!goog.isDeferredModule_(n))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExecModule_(e)},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var n;if(goog.isFunction(e))n=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");n=goog.loadModuleFromSource_.call(goog.global,e)}var o=goog.moduleLoaderState_.moduleName;if(!goog.isString(o)||!o)throw Error('Invalid module name "'+o+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(o,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(n),goog.loadedModules_[o]=n}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(){"use strict";var exports={};return eval(arguments[0]),exports},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.src=e,n.defer=!1,n.async=!1,t.head.appendChild(n)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var n=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==n.readyState){var o=/\bdeps.js$/.test(e);if(o)return!1;throw Error('Cannot write "'+e+'" after document load')}var r=goog.IS_OLD_IE_;if(void 0===t)if(r){var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";n.write('<script type="text/javascript" src="'+e+'"'+i+"></script>")}else goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e);else n.write('<script type="text/javascript">'+t+"</script>");return!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function t(e){if(!(e in r.written||e in r.visited)){if(r.visited[e]=!0,e in r.requires)for(var i in r.requires[e])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);t(r.nameToPath[i])}e in o||(o[e]=!0,n.push(e))}}var n=[],o={},r=goog.dependencies_;t(e);for(var i=0;i<n.length;i++){var a=n[i];goog.dependencies_.written[a]=!0}var s=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var i=0;i<n.length;i++){var a=n[i];if(!a)throw goog.moduleLoaderState_=s,Error("Undefined script input");r.pathIsModule[a]?goog.importModule_(goog.basePath+a):goog.importScript_(goog.basePath+a)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){for(var t=e.split("/"),n=0;n<t.length;)"."==t[n]?t.splice(n,1):n&&".."==t[n]&&t[n-1]&&".."!=t[n-1]?t.splice(--n,2):n++;return t.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var n=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,o=goog.loadFileSync_(e);if(null==o)throw new Error("load of "+e+"failed");var r=goog.wrapModule_(e,o),i=goog.IS_OLD_IE_;i?(goog.dependencies_.deferred[t]=r,goog.queuedModules_.push(t)):n(e,r)}},goog.typeOf=function(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;
var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t="undefined"==typeof e?"undefined":babelHelpers["typeof"](e);return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);/** @preserveTry */
try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n="array"==t?[]:{};for(var o in e)n[o]=goog.cloneObject(e[o]);return n}return e},goog.bindNative_=function(e,t,n){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,n){if(!e)throw new Error;if(arguments.length>2){var o=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,o),e.apply(t,n)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var n=goog.global.document,o=n.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(n.createTextNode(e)),n.body.appendChild(o),n.body.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(e,t){var n,o=function(e){return goog.cssNameMapping_[e]||e},r=function(e){for(var t=e.split("-"),n=[],r=0;r<t.length;r++)n.push(o(t[r]));return n.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:r:function(e){return e},t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,o){for(var r=new Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[n].apply(e,r)}},goog.base=function(e,t,n){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(o.superClass_){for(var r=new Array(arguments.length-1),i=1;i<arguments.length;i++)r[i-1]=arguments[i];return o.superClass_.constructor.apply(e,r)}for(var a=new Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];for(var s=!1,l=e.constructor;l;l=l.superClass_&&l.superClass_.constructor)if(l.prototype[t]===o)s=!0;else if(s)return l.prototype[t].apply(e,a);if(e[t]===o)return e.constructor.prototype[t].apply(e,a);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.provide("goog.string"),goog.string.subs=function(e,t){for(var n=e.split("%s"),o="",r=Array.prototype.slice.call(arguments,1);r.length&&n.length>1;)o+=n.shift()+r.shift();return o+n.join("%s")},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n,o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return n=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var r=o[e];if(r)return r;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(r=String.fromCharCode(i))}return r||(n.innerHTML=e+" ",r=n.firstChild.nodeValue.slice(0,-1)),o[e]=r})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.contains=function(e,t){return e.indexOf(t)!=-1},goog.string.htmlEscape=function(e,t){return t?(e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):goog.string.ALL_RE_.test(e)?(e.indexOf("&")!=-1&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&e.indexOf("e")!=-1&&(e=e.replace(goog.string.E_RE_,"&#101;")),e):e},goog.debug={},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":"undefined"==typeof e?"undefined":babelHelpers["typeof"](e)},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=(new Error).stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.provide("goog.i18n.bidi"),goog.provide("goog.i18n.bidi.Dir"),goog.provide("goog.i18n.bidi.DirectionalString"),goog.provide("goog.i18n.bidi.Format"),goog.define("goog.i18n.bidi.FORCE_RTL",!1),goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||goog.LOCALE.length>=3&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=new RegExp("^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i"),goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var n=void 0===t?goog.i18n.bidi.hasAnyRtl(e):t,o=n?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var n=0,o=0,r=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),a=0;a<i.length;a++){var s=i[a];goog.i18n.bidi.startsWithRtl(s)?(n++,o++):goog.i18n.bidi.isRequiredLtrRe_.test(s)?r=!0:goog.i18n.bidi.hasAnyLtr(s)?o++:goog.i18n.bidi.hasNumeralsRe_.test(s)&&(r=!0)}return 0==o?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:n/o>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t),t&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"))},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.i18n.bidi.DirectionalString.prototype.implementsGoogI18nBidiDirectionalString,goog.i18n.bidi.DirectionalString.prototype.getDirection,goog.provide("goog.asserts"),goog.define("goog.asserts.ENABLE_ASSERTS",goog.DEBUG),goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,n,o){var r="Assertion failed";if(n){r+=": "+n;var i=o}else e&&(r+=": "+e,i=t);var a=new goog.asserts.AssertionError(""+r,i||[]);goog.asserts.errorHandler_(a)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,n){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n,o){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":"undefined"==typeof e?"undefined":babelHelpers["typeof"](e)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,n){if(this.buffer_+=String(e),null!=t)for(var o=1;o<arguments.length;o++)this.buffer_+=arguments[o];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.soy={},goog.soy.data={},goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:!0}:{},JS:goog.DEBUG?{sanitizedContentJsChars:!0}:{},URI:goog.DEBUG?{sanitizedContentUri:!0}:{},TRUSTED_RESOURCE_URI:goog.DEBUG?{sanitizedContentTrustedResourceUri:!0}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:!0}:{},CSS:goog.DEBUG?{sanitizedContentCss:!0}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:!0}:{}},goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")},goog.soy.data.SanitizedContent.prototype.contentKind,goog.soy.data.SanitizedContent.prototype.contentDir=null,goog.soy.data.SanitizedContent.prototype.content,goog.soy.data.SanitizedContent.prototype.getContent=function(){return this.content},goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content},goog.soy.data.UnsanitizedText=function(){goog.soy.data.UnsanitizedText.base(this,"constructor")},goog.inherits(goog.soy.data.UnsanitizedText,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedHtml=function(){goog.soy.data.SanitizedHtml.base(this,"constructor")},goog.inherits(goog.soy.data.SanitizedHtml,goog.soy.data.SanitizedContent),goog.soy.data.SanitizedHtml.prototype.contentKind=goog.soy.data.SanitizedContentKind.HTML,goog.soy.data.SanitizedHtml.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedHtml||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeHtml},function(){var e={};e.asserts={},e.esc={};var t={};e.StringBuilder=goog.string.StringBuffer,t.SanitizedContentKind=goog.soy.data.SanitizedContentKind,t.isContentKind=function(e,t){return null!=e&&e.contentKind===t},t.SanitizedHtml=function(){t.SanitizedHtml.base(this,"constructor")},goog.inherits(t.SanitizedHtml,goog.soy.data.SanitizedHtml),t.SanitizedHtml.from=function(n){return null!=n&&n.contentKind===goog.soy.data.SanitizedContentKind.HTML?(goog.asserts.assert(n.constructor===goog.soy.data.SanitizedHtml||n.constructor===t.SanitizedHtml),n):n instanceof goog.html.SafeHtml?t.VERY_UNSAFE.ordainSanitizedHtml(goog.html.SafeHtml.unwrap(n),n.getDirection()):t.VERY_UNSAFE.ordainSanitizedHtml(e.esc.$$escapeHtmlHelper(String(n)),t.getContentDir(n))},t.SanitizedHtml.isCompatibleWith=function(e){return goog.isString(e)||e instanceof goog.soy.data.SanitizedHtml||e instanceof goog.soy.data.UnsanitizedText||e instanceof goog.html.SafeHtml},t.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)},goog.inherits(t.SanitizedUri,goog.soy.data.SanitizedContent),t.SanitizedUri.prototype.contentKind=t.SanitizedContentKind.URI,t.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR,t.UnsanitizedText=function(e,t){this.content=String(e),this.contentDir=null!=t?t:null},goog.inherits(t.UnsanitizedText,goog.soy.data.UnsanitizedText),t.UnsanitizedText.prototype.contentKind=t.SanitizedContentKind.TEXT,t.$$EMPTY_STRING_={VALUE:""},t.$$makeSanitizedContentFactory_=function(e){function t(e){this.content=e}function n(e,n){var o=new t(String(e));return void 0!==n&&(o.contentDir=n),o}return t.prototype=e.prototype,n},t.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(e){function t(e){this.content=e}function n(e){var n=new t(String(e));return n}return t.prototype=e.prototype,n},t.markUnsanitizedText=function(e,n){return new t.UnsanitizedText(e,n)},t.VERY_UNSAFE={},t.VERY_UNSAFE.ordainSanitizedUri=t.$$makeSanitizedContentFactoryWithDefaultDirOnly_(t.SanitizedUri),e.$$augmentMap=function(t,n){return e.$$assignDefaults(e.$$assignDefaults({},n),t)},e.$$assignDefaults=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},e.$$checkMapKey=function(e){if("string"!=typeof e)throw Error("Map literal's key expression must evaluate to string (encountered type \""+("undefined"==typeof e?"undefined":babelHelpers["typeof"](e))+'").');return e},e.$$getMapKeys=function(e){var t=[];for(var n in e)t.push(n);return t},e.$$checkNotNull=function(e){if(null==e)throw Error("unexpected null value");return e},e.$$getDelTemplateId=function(e){return e},e.$$DELEGATE_REGISTRY_PRIORITIES_={},e.$$DELEGATE_REGISTRY_FUNCTIONS_={},e.$$registerDelegateFn=function(t,n,o,r){var i="key_"+t+":"+n,a=e.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===a||o>a)e.$$DELEGATE_REGISTRY_PRIORITIES_[i]=o,e.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=r;else if(o==a)throw Error('Encountered two active delegates with the same priority ("'+t+":"+n+'").')},e.$$getDelegateFn=function(t,n,o){var r=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"+n];if(r||""==n||(r=e.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+t+":"]),r)return r;if(o)return e.$$EMPTY_TEMPLATE_FN_;throw Error('Found no active impl for delegate call to "'+t+":"+n+'" (and not allowemptydefault="true").')},e.$$EMPTY_TEMPLATE_FN_=function(e,t,n){return""},e.$$truncate=function(t,n,o){return t=String(t),t.length<=n?t:(o&&(n>3?n-=3:o=!1),e.$$isHighSurrogate_(t.charAt(n-1))&&e.$$isLowSurrogate_(t.charAt(n))&&(n-=1),t=t.substring(0,n),o&&(t+="..."),t)},e.$$isHighSurrogate_=function(e){return 55296<=e&&e<=56319},e.$$isLowSurrogate_=function(e){return 56320<=e&&e<=57343},e.asserts.assertType=function(e,t,n,o){if(goog.asserts.ENABLE_ASSERTS&&!e){var r="expected param "+t+" of type "+o+(goog.DEBUG?", but got "+goog.debug.runtimeType(n):"")+".";goog.asserts.fail(r)}return n},e.esc.$$escapeHtmlHelper=function(e){return goog.string.htmlEscape(String(e))},e.$$filterImageDataUri=function(n){return t.VERY_UNSAFE.ordainSanitizedUri(e.esc.$$filterImageDataUriHelper(n))},e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i,e.esc.$$filterImageDataUriHelper=function(t){var n=String(t);return e.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(n)?n:(goog.asserts.fail("Bad value `%s` for |filterImageDataUri",[n]),"data:image/gif;base64,zSoyz")};var n=IncrementalDOM,o={};o.renderDynamicContent=function(e){goog.isFunction(e)?e():null!=e&&n.text(e)},o.print=function(r){if(r instanceof t.SanitizedHtml){var i=n.elementOpen("html-blob"),a=r.toString();i.__innerHTML!==a&&(e.renderHtml(i,r),i.__innerHTML=a),n.skip(),n.elementClose("html-blob")}else o.renderDynamicContent(r)},goog.loadModule(function(){return goog.module("soy.idom"),o}),goog.loadModule(function(){return goog.module("soy"),e}),goog.loadModule(function(){return goog.module("soydata"),t}),goog.loadModule(function(){return goog.module("soy.asserts"),e})}(),goog.loadModule(function(){return goog.module("incrementaldom"),IncrementalDOM})}).call("undefined"!=typeof exports&&"undefined"!=typeof global?global:window)}.call(this),function(){/*
  * HTML5 Parser By Sam Blowes
  *
  * Designed for HTML5 documents
  *
  * Original code by John Resig (ejohn.org)
  * http://ejohn.org/blog/pure-javascript-html-parser/
  * Original code by Erik Arvidsson, Mozilla Public License
  * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
  *
  * ----------------------------------------------------------------------------
  * License
  * ----------------------------------------------------------------------------
  *
  * This code is triple licensed using Apache Software License 2.0,
  * Mozilla Public License or GNU Public License
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * Licensed under the Apache License, Version 2.0 (the "License"); you may not
  * use this file except in compliance with the License.  You may obtain a copy
  * of the License at http://www.apache.org/licenses/LICENSE-2.0
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * The contents of this file are subject to the Mozilla Public License
  * Version 1.1 (the "License"); you may not use this file except in
  * compliance with the License. You may obtain a copy of the License at
  * http://www.mozilla.org/MPL/
  *
  * Software distributed under the License is distributed on an "AS IS"
  * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  * License for the specific language governing rights and limitations
  * under the License.
  *
  * The Original Code is Simple HTML Parser.
  *
  * The Initial Developer of the Original Code is Erik Arvidsson.
  * Portions created by Erik Arvidssson are Copyright (C) 2004. All Rights
  * Reserved.
  *
  * ////////////////////////////////////////////////////////////////////////////
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU General Public License
  * as published by the Free Software Foundation; either version 2
  * of the License, or (at your option) any later version.
  *
  * This program is distributed in the hope that it will be useful,
  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  * GNU General Public License for more details.
  *
  * You should have received a copy of the GNU General Public License
  * along with this program; if not, write to the Free Software
  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
  * @license
  */
(function(){function e(e){for(var t={},n=e.split(","),o=0;o<n.length;o++)t[n[o]]=!0;return t}var t=/^<([-A-Za-z0-9_]+)((?:\s+[a-zA-Z_:][-a-zA-Z0-9_:.]*(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,n=/^<\/([-A-Za-z0-9_]+)[^>]*>/,o=/([a-zA-Z_:][-a-zA-Z0-9_:.]*)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g,r=e("area,base,basefont,br,col,frame,hr,img,input,link,meta,param,embed,command,keygen,source,track,wbr"),i=e("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),a=e("abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),s=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),l=e("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),u=e("script,style");window.HTMLParser=function(e,g){function d(e,t,n,u){if(t=t.toLowerCase(),i[t])for(;p.last()&&a[p.last()]&&"span"!==p.last();)c("",p.last());if(s[t]&&p.last()==t&&c("",t),u=r[t]||!!u,u||p.push(t),g.start){var d=[];n.replace(o,function(e,t){var n=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:l[t]?t:"";d.push({name:t,value:n,escaped:n.replace(/(^|[^\\])"/g,'$1\\"')})}),g.start&&g.start(t,d,u)}}function c(e,t){if(t)for(var n=p.length-1;n>=0&&p[n]!=t;n--);else var n=0;if(n>=0){for(var o=p.length-1;o>=n;o--)g.end&&g.end(p[o]);p.length=n}}var m,h,f,p=[],v=e;for(p.last=function(){return this[this.length-1]};e;){if(h=!0,p.last()&&u[p.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+p.last()+"[^>]*>"),function(e,t){return t=t.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),g.chars&&g.chars(t),""}),c("",p.last());else if(0==e.indexOf("<!--")?(m=e.indexOf("-->"),m>=0&&(g.comment&&g.comment(e.substring(4,m)),e=e.substring(m+3),h=!1)):0==e.indexOf("</")?(f=e.match(n),f&&(e=e.substring(f[0].length),f[0].replace(n,c),h=!1)):0==e.indexOf("<")&&(f=e.match(t),f&&(e=e.substring(f[0].length),f[0].replace(t,d),h=!1)),h){m=e.indexOf("<");var _=m<0?e:e.substring(0,m);e=m<0?"":e.substring(m),g.chars&&g.chars(_)}if(e==v)throw"Parse Error: "+e;v=e}c()}}).call(this)}.call(this),function(){function e(e){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},o=document.createElement("div");return e.replace(t,function(e,t){var r=n[e];if(r)return r;if("#"===t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(r=String.fromCharCode(i))}return r||(o.innerHTML=e+" ",r=o.firstChild.nodeValue.slice(0,-1)),n[e]=r,r})}this.metal.unescape=e;var t=/&([^;\s<&]+);?/g}.call(this),function(){var e,t=this.metal.unescape,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"buildFn",value:function(e){return function(){return n.run(e)}}},{key:"getParser",value:function(){return e||window.HTMLParser}},{key:"run",value:function(e){n.getParser()(e,{start:function(e,t,n){for(var o=n?IncrementalDOM.elementVoid:IncrementalDOM.elementOpen,r=[e,null,[]],i=0;i<t.length;i++)r.push(t[i].name,t[i].value);o.apply(null,r)},end:function(e){IncrementalDOM.elementClose(e)},chars:function(e){IncrementalDOM.text(e,t)}})}},{key:"setParser",value:function(t){e=t}}]),n}();this.metal.HTML2IncDom=n}.call(this),function(){var e=this.metal.HTML2IncDom;this.metal.withParser=e}.call(this),function(){var e={interceptFns_:[],getOriginalFn:function(e){return e.originalFn?e.originalFn:e},handleTemplateCall_:function(t,n,o,r){var i=e.interceptFns_[e.interceptFns_.length-1];return i?i.call(null,t,n,o,r):t.call(null,n,o,r)},registerForInterception:function(t,n){var o=t[n];o.originalFn||(t[n]=e.handleTemplateCall_.bind(null,o),t[n].originalFn=o)},startInterception:function(t){e.interceptFns_.push(t)},stopAllInterceptions:function(){e.interceptFns_=[]},stopInterception:function(){e.interceptFns_.pop()}};this.metal.SoyAop=e}.call(this),function(){var e=this.metalNamed.component.ComponentRegistry,t=this.metalNamed.metal.isFunction,n=this.metalNamed.metal.isObject,o=this.metalNamed.metal.isString,r=this.metalNamed.metal.object,i=this.metalNamed.state.validators,a=this.metalNamed.state.Config,s=this.metal.withParser,l=this.metal.IncrementalDomRenderer,u=this.metal.SoyAop,g={},d=function(i){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,i),babelHelpers.createClass(a,[{key:"getExtraDataConfig",value:function(e){var n=e.constructor.TEMPLATE;if(t(n)){n=u.getOriginalFn(n),this.soyParamTypes_=n.types||{};for(var o=n.params||[],r={},i=0;i<o.length;i++)e[o[i]]||(r[o[i]]={});return r}}},{key:"buildTemplateData_",value:function(e,n){var o=this,i=r.mixin({},this.getConfig(e));e.getStateKeys().forEach(function(t){var n=e[t];o.isHtmlParam_(e,t)&&(n=c.toIncDom(n)),i[t]=n});for(var a=0;a<n.length;a++)!i[n[a]]&&t(e[n[a]])&&(i[n[a]]=e[n[a]].bind(e));return t(e.prepareStateForRender)?e.prepareStateForRender(i)||i:i}},{key:"getTemplate",value:function(e,t){return function(n,o,r){if(!goog.loadedModules_[e])throw new Error('No template with namespace "'+e+'" has been loaded yet.');return goog.loadedModules_[e][t](n,o,r)}}},{key:"handleInterceptedCall_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[e.componentCtor,null,[]];for(var o in t)n.push(o,t[o]);IncrementalDOM.elementVoid.apply(null,n)}},{key:"isHtmlParam_",value:function(e,t){var n=e.getDataManager().getStateInstance(e);if(n.getStateKeyConfig(t).isHtml)return!0;var o=u.getOriginalFn(e.constructor.TEMPLATE),r=(o.types||{})[t]||"";return r.split("|").indexOf("html")!==-1}},{key:"register",value:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"render";t.RENDERER=c,t.TEMPLATE=u.getOriginalFn(n[o]),t.TEMPLATE.componentCtor=t,u.registerForInterception(n,o),e.register(t)}},{key:"renderIncDom",value:function(e){var n=e.constructor.TEMPLATE;if(t(n)&&!e.render){n=u.getOriginalFn(n),u.startInterception(this.handleInterceptedCall_);var o=this.buildTemplateData_(e,n.params||[]);n(o,null,g),u.stopInterception()}else babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"renderIncDom",this).call(this,e)}},{key:"setInjectedData",value:function(e){g=e||{}}},{key:"shouldUpdate",value:function(e,t){var n=babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"shouldUpdate",this).call(this,e,t);if(!n||e.shouldUpdate)return n;for(var o=e.constructor.TEMPLATE,r=o?u.getOriginalFn(o).params:[],i=0;i<r.length;i++)if(t.props[r[i]])return!0;return!1}},{key:"toHtmlString",value:function(e){var t=document.createElement("div");return IncrementalDOM.patch(t,e),t.innerHTML}},{key:"toIncDom",value:function(e){return n(e)&&o(e.content)&&"HTML"===e.contentKind&&(e=e.content),o(e)&&(e=s.buildFn(e)),e}}]),a}(l.constructor),c=new d;c.RENDERER_NAME="soy",this.metal.Soy=c,this.metalNamed.Soy=this.metalNamed.Soy||{},this.metalNamed.Soy.Config=a,this.metalNamed.Soy.Soy=c,this.metalNamed.Soy.SoyAop=u,this.metalNamed.Soy.validators=i}.call(this),function(){var e=function(){function e(){babelHelpers.classCallCheck(this,e)}return babelHelpers.createClass(e,null,[{key:"intersectRect",value:function(e,t,n,o,r,i,a,s){return!(r>n||a<e||i>o||s<t)}}]),e}();this.metal.Geometry=e}.call(this),function(){var e=this.metal.metal,t=this.metal.Geometry,n=function(){function n(){babelHelpers.classCallCheck(this,n)}return babelHelpers.createClass(n,null,[{key:"getClientHeight",value:function(e){return this.getClientSize_(e,"Height")}},{key:"getClientSize_",value:function(t,n){var o=t;return e.isWindow(t)&&(o=t.document.documentElement),e.isDocument(t)&&(o=t.documentElement),o["client"+n]}},{key:"getClientWidth",value:function(e){return this.getClientSize_(e,"Width")}},{key:"getDocumentRegion_",value:function(e){var t=this.getHeight(e),n=this.getWidth(e);return this.makeRegion(t,t,0,n,0,n)}},{key:"getHeight",value:function(e){return this.getSize_(e,"Height")}},{key:"getOffsetLeft",value:function(e,t){return e.offsetLeft+(t?0:n.getTranslation(e).left)}},{key:"getOffsetTop",value:function(e,t){return e.offsetTop+(t?0:n.getTranslation(e).top)}},{key:"getRegion",value:function(t,n){return e.isDocument(t)||e.isWindow(t)?this.getDocumentRegion_(t):this.makeRegionFromBoundingRect_(t.getBoundingClientRect(),n)}},{key:"getScrollLeft",value:function(t){return e.isWindow(t)?t.pageXOffset:e.isDocument(t)?t.defaultView.pageXOffset:t.scrollLeft}},{key:"getScrollTop",value:function(t){return e.isWindow(t)?t.pageYOffset:e.isDocument(t)?t.defaultView.pageYOffset:t.scrollTop}},{key:"getSize_",value:function(t,n){if(e.isWindow(t))return this.getClientSize_(t,n);if(e.isDocument(t)){var o=t.documentElement;return Math.max(t.body["scroll"+n],o["scroll"+n],t.body["offset"+n],o["offset"+n],o["client"+n])}return Math.max(t["client"+n],t["scroll"+n],t["offset"+n])}},{key:"getTransformMatrixValues",value:function(e){var t=getComputedStyle(e),n=t.msTransform||t.transform||t.webkitTransform||t.mozTransform;if("none"!==n){for(var o=[],r=/([\d-\.\s]+)/g,i=r.exec(n);i;)o.push(i[1]),i=r.exec(n);return o}}},{key:"getTranslation",value:function(e){var t=n.getTransformMatrixValues(e),o={left:0,top:0};return t&&(o.left=parseFloat(6===t.length?t[4]:t[13]),o.top=parseFloat(6===t.length?t[5]:t[14])),o}},{key:"getWidth",value:function(e){return this.getSize_(e,"Width")}},{key:"intersectRegion",value:function(e,n){return t.intersectRect(e.top,e.left,e.bottom,e.right,n.top,n.left,n.bottom,n.right)}},{key:"insideRegion",value:function(e,t){return t.top>=e.top&&t.bottom<=e.bottom&&t.right<=e.right&&t.left>=e.left}},{key:"insideViewport",value:function(e){return this.insideRegion(this.getRegion(window),e)}},{key:"intersection",value:function(e,t){if(!this.intersectRegion(e,t))return null;var n=Math.min(e.bottom,t.bottom),o=Math.min(e.right,t.right),r=Math.max(e.left,t.left),i=Math.max(e.top,t.top);return this.makeRegion(n,n-i,r,o,i,o-r)}},{key:"makeRegion",value:function(e,t,n,o,r,i){return{bottom:e,height:t,left:n,right:o,top:r,width:i}}},{key:"makeRegionFromBoundingRect_",value:function(e,t){var o=t?n.getScrollLeft(document):0,r=t?n.getScrollTop(document):0;return this.makeRegion(e.bottom+r,e.height,e.left+o,e.right+o,e.top+r,e.width)}},{key:"pointInsideRegion",value:function(e,t,o){return n.insideRegion(o,n.makeRegion(t,0,e,e,t,0))}}]),n}();this.metal.Position=n}.call(this),function(){var e=this.metal.Position,t=function(){function t(){babelHelpers.classCallCheck(this,t)}return babelHelpers.createClass(t,null,[{key:"align",value:function(t,n,o){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i){var a=this.suggestAlignBestRegion(t,n,o);o=a.position,r=a.region}else r=this.getAlignRegion(t,n,o);var s=window.getComputedStyle(t,null);if("fixed"!==s.getPropertyValue("position")){r.top+=window.pageYOffset,r.left+=window.pageXOffset;for(var l=t;l=l.offsetParent;)r.top-=e.getOffsetTop(l),r.left-=e.getOffsetLeft(l)}return t.style.top=r.top+"px",t.style.left=r.left+"px",o}},{key:"getAlignBestRegion",value:function(e,n,o){return t.suggestAlignBestRegion(e,n,o).region}},{key:"getAlignRegion",value:function(n,o,r){var i=e.getRegion(o),a=e.getRegion(n),s=0,l=0;switch(r){case t.TopCenter:s=i.top-a.height,l=i.left+i.width/2-a.width/2;break;case t.RightCenter:s=i.top+i.height/2-a.height/2,l=i.left+i.width;break;case t.BottomCenter:s=i.bottom,l=i.left+i.width/2-a.width/2;break;case t.LeftCenter:s=i.top+i.height/2-a.height/2,l=i.left-a.width;break;case t.TopRight:s=i.top-a.height,l=i.right-a.width;break;case t.BottomRight:s=i.bottom,l=i.right-a.width;break;case t.BottomLeft:s=i.bottom,l=i.left;break;case t.TopLeft:s=i.top-a.height,l=i.left}return{bottom:s+a.height,height:a.height,left:l,right:l+a.width,top:s,width:a.width}}},{key:"isValidPosition",value:function(e){return 0<=e&&e<=8}},{key:"suggestAlignBestRegion",value:function(t,n,o){for(var r=0,i=o,a=this.getAlignRegion(t,n,i),s=i,l=a,u=e.getRegion(window),g=0;g<8;){if(e.intersectRegion(u,l)){var d=e.intersection(u,l),c=d.width*d.height;if(c>r&&(r=c,a=l,i=s),e.insideViewport(l))break}s=(o+ ++g)%8,l=this.getAlignRegion(t,n,s)}return{position:i,region:a}}}]),t}();t.TopCenter=0,t.TopRight=1,t.RightCenter=2,t.BottomRight=3,t.BottomCenter=4,t.BottomLeft=5,t.LeftCenter=6,t.TopLeft=7,t.Top=t.TopCenter,t.Right=t.RightCenter,t.Bottom=t.BottomCenter,t.Left=t.LeftCenter,this.metal.Align=t}.call(this),function(){var e=this.metal.Align,t=this.metal.Geometry,n=this.metal.Position;this.metal.position=n,this.metalNamed.position=this.metalNamed.position||{},this.metalNamed.position.Align=e,this.metalNamed.position.Geometry=t,this.metalNamed.position.Position=n}.call(this),function(){var e,t=this.metal.component,n=this.metal.Soy;goog.loadModule(function(t){function n(e,t,n){e=e||{},o.asserts.assertType(null==e.body||e.body instanceof Function||e.body instanceof r.UnsanitizedText||goog.isString(e.body),"body",e.body,"?soydata.SanitizedHtml|string|undefined");var i=e.body;o.asserts.assertType(null==e.header||e.header instanceof Function||e.header instanceof r.UnsanitizedText||goog.isString(e.header),"header",e.header,"?soydata.SanitizedHtml|string|undefined");var l=e.header,u=e.classMap?e.classMap:["dropup","dropup","dropright","dropdown","dropdown","dropdown","dropleft","dropup"],g=null!=e.alignedPosition?e.alignedPosition:e.position,d=null!=g?u[g]:"dropdown";a("div",null,null,"class",(e.positionClassOnMenu?"dropdown":d)+(e.elementClasses?" "+e.elementClasses:"")+(e.expanded?" open":"")),l&&l(),a("ul",null,null,"class","dropdown-menu"+(e.positionClassOnMenu?" "+d:"")),i&&i(),s("ul"),s("div")}goog.module("Dropdown.incrementaldom");var o=goog.require("soy"),r=goog.require("soydata");goog.require("goog.asserts"),goog.require("soy.asserts"),goog.require("goog.i18n.bidi");var i=goog.require("incrementaldom"),a=i.elementOpen,s=i.elementClose;i.elementVoid,i.elementOpenStart,i.elementOpenEnd,i.text,i.attr;return t.render=n,goog.DEBUG&&(n.soyTemplateName="Dropdown.render"),t.render.params=["body","header","alignedPosition","classMap","elementClasses","expanded","position","positionClassOnMenu"],t.render.types={body:"html",header:"html",alignedPosition:"any",classMap:"any",elementClasses:"any",expanded:"any",position:"any",positionClassOnMenu:"any"},e=t,t});var o=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(t);n.register(o,e),this.metalNamed.Dropdown=this.metalNamed.Dropdown||{},this.metalNamed.Dropdown.Dropdown=o,this.metalNamed.Dropdown.templates=e,this.metal.Dropdown=e}.call(this),function(){var e=this.metalNamed.metal.core,t=this.metalNamed.metal.object,n=this.metal.dom,o=this.metalNamed.position.Align,r=this.metal.component,i=this.metalNamed.events.EventHandler,a=this.metal.Soy,s=this.metal.Dropdown,l=function(r){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return babelHelpers.inherits(a,r),babelHelpers.createClass(a,[{key:"attached",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"attached",this).call(this),this.eventHandler_.add(n.on(document,"click",this.handleDocClick_.bind(this)))}},{key:"created",value:function(){this.eventHandler_=new i}},{key:"detached",value:function(){babelHelpers.get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"detached",this).call(this),this.eventHandler_.removeAllListeners()}},{key:"close",value:function(){this.expanded=!1}},{key:"isOpen",value:function(){return this.expanded}},{key:"handleDocClick_",value:function(e){this.element.contains(e.target)||this.close()}},{key:"open",value:function(){this.expanded=!0}},{key:"setterClassMapFn_",value:function(e){return t.mixin(this.valueClassMapFn_(),e)}},{key:"setterPositionFn_",value:function(t){return e.isNumber(t)?t:"up"===t.toLowerCase()?o.TopLeft:o.BottomLeft}},{key:"syncExpanded",value:function(e){if(e&&this.alignElementSelector){var t=this.element.querySelector(this.alignElementSelector);if(t){var n=this.element.querySelector(".dropdown-menu");this.alignedPosition=o.align(n,t,this.position)}}}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"validatePosition_",value:function(e){if(o.isValidPosition(e))return!0;switch(e.toLowerCase()){case"up":case"down":return!0;default:return!1}}},{key:"valueBodyFn_",value:function(){var e=this.element&&this.element.querySelector(".dropdown-menu");return e?e.innerHTML:""}},{key:"valueClassMapFn_",value:function(){var e;return e={},babelHelpers.defineProperty(e,o.TopLeft,"dropup"),babelHelpers.defineProperty(e,o.TopCenter,"dropup"),babelHelpers.defineProperty(e,o.TopRight,"dropup"),babelHelpers.defineProperty(e,o.BottomLeft,"dropdown"),babelHelpers.defineProperty(e,o.BottomCenter,"dropdown"),babelHelpers.defineProperty(e,o.BottomRight,"dropdown"),babelHelpers.defineProperty(e,o.RightCenter,"dropright"),babelHelpers.defineProperty(e,o.LeftCenter,"dropleft"),e}},{key:"valueHeaderFn_",value:function(){if(this.element){for(var e=document.createElement("div"),t=0;t<this.element.childNodes.length&&!n.hasClass(this.element.childNodes[t],"dropdown-menu");t++)e.appendChild(this.element.childNodes[t].cloneNode(!0));return e.innerHTML}return""}}]),a}(r);a.register(l,s),l.STATE={alignedPosition:{validator:o.isValidPosition},alignElementSelector:{validator:e.isString},body:{isHtml:!0,valueFn:"valueBodyFn_"},classMap:{setter:"setterClassMapFn_",validator:e.isObject,valueFn:"valueClassMapFn_"},header:{isHtml:!0,valueFn:"valueHeaderFn_"},expanded:{value:!1},position:{setter:"setterPositionFn_",value:o.BottomLeft,validator:"validatePosition_"},positionClassOnMenu:{value:!1}},this.metal.Dropdown=l}.call(this),function(){var e=this.metal.metal,t=this.metal.events,n=function(t){function n(e,t){babelHelpers.classCallCheck(this,n);var o=babelHelpers.possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return o.component_=e,o.selector_=t||"*",o.handleKey_=o.handleKey_.bind(o),o}return babelHelpers.inherits(n,t),babelHelpers.createClass(n,[{key:"buildRef_",value:function(e,t){return e+t}},{key:"disposeInternal",value:function(){babelHelpers.get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"disposeInternal",this).call(this),this.stop(),this.component_=null,this.selector_=null}},{key:"getNextFocusable_",value:function(e,t,n){var o=t,r=void 0,i=void 0;do t=this.increment_(t,n),i=this.buildRef_(e,t),r=this.component_.refs[i];while(this.isFocusable_(r)&&t!==o);return r?i:null}},{key:"handleKey_",value:function(t){var o=this.focusHandler_&&this.focusHandler_(t);this.focusHandler_&&o!==!0||(o=this.handleKeyDefault_(t));var r=o;e.isElement(o)||(o=this.component_.refs[o]),o&&(o.focus(),this.emit(n.EVENT_FOCUSED,{element:o,ref:e.isString(r)?r:null}))}},{key:"handleKeyDefault_",value:function(e){var t=e.delegateTarget.getAttribute("ref"),o=n.REF_REGEX.exec(t);if(o){var r=parseInt(o[1],10),i=t.substr(0,t.length-o[1].length);switch(e.keyCode){case 37:case 38:return this.getNextFocusable_(i,r,-1);case 39:case 40:return this.getNextFocusable_(i,r,1)}}}},{key:"increment_",value:function(t,n){var o=this.circularLength_;return t+=n,e.isNumber(o)&&(t<0?t=o-1:t>=o&&(t=0)),t}},{key:"isFocusable_",value:function(e){return e&&"true"===e.getAttribute("data-unfocusable")}},{key:"setCircularLength",value:function(e){return this.circularLength_=e,this}},{key:"setFocusHandler",value:function(e){return this.focusHandler_=e,this}},{key:"start",value:function(){return this.handle_||(this.handle_=this.component_.delegate("keydown",this.selector_,this.handleKey_)),this}},{key:"stop",value:function(){return this.handle_&&(this.handle_.removeListener(),this.handle_=null),this}}]),n}(t);n.EVENT_FOCUSED="focused",n.REF_REGEX=/.+-(\d+)$/,this.metal.KeyboardFocusManager=n}.call(this),function(){var e,t=this.metal.component,n=this.metal.Soy;goog.loadModule(function(t){function n(e,t,n){e=e||{},o.asserts.assertType(null==e.elementClasses||e.elementClasses instanceof goog.soy.data.SanitizedContent||goog.isString(e.elementClasses),"elementClasses",e.elementClasses,"null|string|undefined");var r=e.elementClasses;o.asserts.assertType(null==e.spritemap||e.spritemap instanceof goog.soy.data.SanitizedContent||goog.isString(e.spritemap),"spritemap",e.spritemap,"null|string|undefined");var l=e.spritemap;o.asserts.assertType(null==e.symbol||e.symbol instanceof goog.soy.data.SanitizedContent||goog.isString(e.symbol),"symbol",e.symbol,"null|string|undefined");var u=e.symbol;null!=u&&null!=l?(i("svg",null,null,"aria-hidden","true","class","lexicon-icon lexicon-icon-"+u+(r?"  "+r:"")),s("use",null,null,"xlink:href",l+"#"+u),a("svg")):r&&s("span",null,null,"aria-hidden","true","class",r)}goog.module("MetalClayIcon.incrementaldom");var o=goog.require("soy");goog.require("soydata");goog.require("goog.asserts"),goog.require("soy.asserts"),goog.require("goog.i18n.bidi"),goog.require("goog.string");var r=goog.require("incrementaldom"),i=r.elementOpen,a=r.elementClose,s=r.elementVoid;r.elementOpenStart,r.elementOpenEnd,r.text,r.attr;return t.render=n,goog.DEBUG&&(n.soyTemplateName="MetalClayIcon.render"),t.render.params=["elementClasses","spritemap","symbol"],t.render.types={elementClasses:"string",spritemap:"string",symbol:"string"},e=t,t});var o=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(t);n.register(o,e),this.metalNamed.MetalClayIcon=this.metalNamed.MetalClayIcon||{},this.metalNamed.MetalClayIcon.MetalClayIcon=o,this.metalNamed.MetalClayIcon.templates=e,this.metal.MetalClayIcon=e}.call(this),function(){var e=this.metal.component,t=(this.metal.metal,this.metal.Soy),n=this.metalNamed.state.validators,o=this.metal.MetalClayIcon,r=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(e);r.STATE={spritemap:{validator:n.string},symbol:{validator:n.string}},t.register(r,o),this.metal.MetalClayIcon=r}.call(this),function(){var e,t=this.metal.component,n=this.metal.Soy;goog.loadModule(function(t){function o(e,t,n){var o;e=e||{},l.asserts.assertType(null==e.alignedPosition||goog.isNumber(e.alignedPosition),"alignedPosition",e.alignedPosition,"null|number|undefined");var s=e.alignedPosition;l.asserts.assertType(null==e.alignElementSelector||e.alignElementSelector instanceof goog.soy.data.SanitizedContent||goog.isString(e.alignElementSelector),"alignElementSelector",e.alignElementSelector,"null|string|undefined");var g=e.alignElementSelector;l.asserts.assertType(null==e.body||e.body instanceof Function||e.body instanceof u.UnsanitizedText||goog.isString(e.body),"body",e.body,"?soydata.SanitizedHtml|string|undefined");e.body;l.asserts.assertType(null==e.dropdownContainerElement||e.dropdownContainerElement instanceof goog.soy.data.SanitizedContent||goog.isString(e.dropdownContainerElement),"dropdownContainerElement",e.dropdownContainerElement,"null|string|undefined");var d=e.dropdownContainerElement;l.asserts.assertType(null==e.dropdownItems||goog.isArray(e.dropdownItems),"dropdownItems",e.dropdownItems,"?Array<{component: string, elementClasses: string, href: string, label: string}>|undefined");e.dropdownItems;l.asserts.assertType(null==e.dropdownOpenClass||e.dropdownOpenClass instanceof goog.soy.data.SanitizedContent||goog.isString(e.dropdownOpenClass),"dropdownOpenClass",e.dropdownOpenClass,"null|string|undefined");var c=e.dropdownOpenClass;l.asserts.assertType(null==e.dropdownToggle||goog.isObject(e.dropdownToggle),"dropdownToggle",e.dropdownToggle,"null|undefined|{elementClasses: string, href: string, icon: {alignment: string, spritemap: string, symbol: string}, label: string}");e.dropdownToggle;l.asserts.assertType(null==e.expanded||goog.isBoolean(e.expanded)||1===e.expanded||0===e.expanded,"expanded",e.expanded,"boolean|null|undefined");var m=e.expanded;l.asserts.assertType(null==e.header||e.header instanceof Function||e.header instanceof u.UnsanitizedText||goog.isString(e.header),"header",e.header,"?soydata.SanitizedHtml|string|undefined");e.header;l.asserts.assertType(null==e.position||goog.isNumber(e.position),"position",e.position,"null|number|undefined");var h=e.position;l.asserts.assertType(null==e.renderDropdownMenu||goog.isBoolean(e.renderDropdownMenu)||1===e.renderDropdownMenu||0===e.renderDropdownMenu,"renderDropdownMenu",e.renderDropdownMenu,"boolean|null|undefined");var f=e.renderDropdownMenu,p=e.classMap?e.classMap:["dropdown","dropdown","dropdown","dropdown","dropdown","dropdown","dropdown","dropdown"],v=null==(o=s)?h:o,_=null!=v?p[v]:"dropdown",y="";y+=_,y+=m?" "+(null==(o=c)?"show":o):"",y+=g?" relative-target":"";var b=function(){g||i(e,null,n),f&&a(e,null,n)};r({classes:y,containerElement:d,content:b},null,n)}function r(e,t,n){var o;l.asserts.assertType(e.content instanceof Function||e.content instanceof u.UnsanitizedText||goog.isString(e.content),"content",e.content,"Function");var r=e.content;l.asserts.assertType(null==e.classes||e.classes instanceof goog.soy.data.SanitizedContent||goog.isString(e.classes),"classes",e.classes,"null|string|undefined");var i=e.classes;l.asserts.assertType(null==e.containerElement||e.containerElement instanceof goog.soy.data.SanitizedContent||goog.isString(e.containerElement),"containerElement",e.containerElement,"null|string|undefined");var a=e.containerElement;switch(goog.isObject(o=a)?o.toString():o){case"li":d("li",null,null,"class",i),r(),c("li");break;default:d("div",null,null,"class",i),r(),c("div")}}function i(e,t,n){e=e||{},l.asserts.assertType(null==e.dropdownToggle||goog.isObject(e.dropdownToggle),"dropdownToggle",e.dropdownToggle,"null|undefined|{elementClasses: string, href: string, icon: {alignment: string, spritemap: string, symbol: string}, label: string}");var o=e.dropdownToggle;l.asserts.assertType(null==e.header||e.header instanceof Function||e.header instanceof u.UnsanitizedText||goog.isString(e.header),"header",e.header,"?soydata.SanitizedHtml|string|undefined");var r=e.header;r?r():o&&(o.href?(d("a",null,null,"class",o.elementClasses,"data-onclick","toggle","href",o.href,"ref","toggler"),s(e,null,n),c("a")):(d("button",null,null,"class",o.elementClasses,"data-onclick","toggle","ref","toggler"),s(e,null,n),c("button")))}function a(e,t,n){var o;e=e||{},l.asserts.assertType(null==e.body||e.body instanceof Function||e.body instanceof u.UnsanitizedText||goog.isString(e.body),"body",e.body,"?soydata.SanitizedHtml|string|undefined");var r=e.body;l.asserts.assertType(null==e.dropdownItems||goog.isArray(e.dropdownItems),"dropdownItems",e.dropdownItems,"?Array<{component: string, elementClasses: string, href: string, label: string}>|undefined");var i=e.dropdownItems;if(r)r();else if(i){d("div",null,null,"class","dropdown-menu","ref","dropdownmenu");for(var a=i,s=a.length,g=0;g<s;g++){var f=a[g],p="";switch(p+=f.elementClasses?" "+f.elementClasses:"",goog.isObject(o=f.component)?o.toString():o){case"header":d("h6",null,null,"class","dropdown-header"+p);var v=null==(o=f.label)?"":o;"function"==typeof v?v():null!=v&&h(v),c("h6");break;case"divider":m("div",null,null,"class","dropdown-divider"+p);break;default:if(f.href){d("a",null,null,"class","dropdown-item"+p,"ref","el-"+g,"href",f.href);var _=null==(o=f.label)?"":o;"function"==typeof _?_():null!=_&&h(_),c("a")}else{d("button",null,null,"class","dropdown-item"+p,"ref","el-"+g);var y=null==(o=f.label)?"":o;"function"==typeof y?y():null!=y&&h(y),c("button")}}}c("div")}}function s(e,t,n){var o;e=e||{},l.asserts.assertType(null==e.dropdownToggle||goog.isObject(e.dropdownToggle),"dropdownToggle",e.dropdownToggle,"null|undefined|{elementClasses: string, href: string, icon: {alignment: string, spritemap: string, symbol: string}, label: string}");var r=e.dropdownToggle;if(r.icon&&"left"==r.icon.alignment){f({spritemap:r.icon.spritemap,symbol:r.icon.symbol},null,n);var i=null==(o=r.label)?"":o;"function"==typeof i?i():null!=i&&h(i)}else if(r.icon){var a=null==(o=r.label)?"":o;"function"==typeof a?a():null!=a&&h(a),f({spritemap:r.icon.spritemap,symbol:r.icon.symbol},null,n)}else{var s=null==(o=r.label)?"":o;"function"==typeof s?s():null!=s&&h(s)}}goog.module("MetalClayDropdown.incrementaldom");var l=goog.require("soy"),u=goog.require("soydata");goog.require("goog.asserts"),goog.require("soy.asserts"),goog.require("goog.i18n.bidi"),goog.require("goog.string");var g=goog.require("incrementaldom"),d=g.elementOpen,c=g.elementClose,m=g.elementVoid,h=(g.elementOpenStart,g.elementOpenEnd,g.text),f=(g.attr,n.getTemplate("MetalClayIcon.incrementaldom","render"));return t.render=o,goog.DEBUG&&(o.soyTemplateName="MetalClayDropdown.render"),t.containerTag=r,goog.DEBUG&&(r.soyTemplateName="MetalClayDropdown.containerTag"),t.dropdownToggle=i,goog.DEBUG&&(i.soyTemplateName="MetalClayDropdown.dropdownToggle"),t.dropdownItems=a,goog.DEBUG&&(a.soyTemplateName="MetalClayDropdown.dropdownItems"),t.dropdownToggleContent=s,goog.DEBUG&&(s.soyTemplateName="MetalClayDropdown.dropdownToggleContent"),t.render.params=["alignedPosition","alignElementSelector","body","classMap","dropdownContainerElement","dropdownOpenClass","expanded","header","position","renderDropdownMenu"],t.render.types={alignedPosition:"int",alignElementSelector:"string",body:"html",classMap:"?",dropdownContainerElement:"string",dropdownOpenClass:"string",expanded:"bool",header:"html",position:"int",renderDropdownMenu:"bool"},t.containerTag.params=["content","classes","containerElement"],t.containerTag.types={content:"html",classes:"string",containerElement:"string"},t.dropdownToggle.params=["header"],t.dropdownToggle.types={header:"html"},t.dropdownItems.params=["body"],t.dropdownItems.types={body:"html"},t.dropdownToggleContent.params=[],t.dropdownToggleContent.types={},e=t,t});var o=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(t);n.register(o,e),this.metalNamed.MetalClayDropdown=this.metalNamed.MetalClayDropdown||{},this.metalNamed.MetalClayDropdown.MetalClayDropdown=o,this.metalNamed.MetalClayDropdown.templates=e,this.metal.MetalClayDropdown=e}.call(this),function(){var e=(this.metal.component,this.metal.dom),t=this.metal.Soy,n=this.metalNamed.position.Align,o=this.metal.Dropdown,r=this.metalNamed.state.Config,i=this.metal.KeyboardFocusManager,a=this.metal.MetalClayDropdown,s=function(t){function o(){return babelHelpers.classCallCheck(this,o),babelHelpers.possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return babelHelpers.inherits(o,t),babelHelpers.createClass(o,[{key:"created",value:function(){babelHelpers.get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"created",this).call(this),o.instances.push(this),this.keyBoardManager=new i(this,"a"),this.maybeBindDelegatedToggler_(),this.keyBoardManager.setFocusHandler(this.handleKeyDown_.bind(this))}},{key:"handleKeyDown_",value:function(e){var t=e.delegateTarget.getAttribute("ref");if(this.itemMatchs_(t)){var n=this.getItemsRef_(),o=n.indexOf(t);switch(e.keyCode){case 37:case 38:return n[o-1];case 39:case 40:return n[o+1]}}}},{key:"handleDocClick_",value:function(t){var n=t.target;this.alignElementSelector&&e.match(n,this.alignElementSelector)||babelHelpers.get(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"handleDocClick_",this).call(this,t);
}},{key:"maybeBindDelegatedToggler_",value:function(){this.alignElementSelector&&e.on(this.alignElementSelector,"click",this.toggle.bind(this))}},{key:"syncExpanded",value:function(e){var t=this.refs.toggler||document.querySelector(this.alignElementSelector);if(e&&t){var o=this.refs.dropdownmenu;this.alignedPosition=n.align(o,t,this.position),this.focusTheFirstElement_(),this.keyBoardManager.start()}}},{key:"focusTheFirstElement_",value:function(){var e=this.getItemsRef_();this.refs[e[0]].focus()}},{key:"itemMatchs_",value:function(e){return i.REF_REGEX.exec(e)}},{key:"getItemsRef_",value:function(){var e=this;return Object.keys(this.refs).filter(function(t){return e.itemMatchs_(t)})}}]),o}(o);s.STATE={body:{isHtml:!0},dropdownItems:r.array(),dropdownOpenClass:r.string().value("show"),dropdownContainerElement:r.string().value("div"),dropdownToggle:r.object(),header:{isHtml:!0},renderDropdownMenu:r.bool().value(!0)},s.instances=[],t.register(s,a),this.metal.MetalClayDropdown=s}.call(this)}).call(this);